/*! For license information please see script.js.LICENSE.txt */
(()=>{var e={337:(e,t,n)=>{var i=n(501).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",h=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),r=new M(i||[]);return s(o,"_invoke",{value:C(e,n,r)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f={};function m(){}function g(){}function v(){}var y={};u(y,l,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(E([])));S&&S!==n&&o.call(S,l)&&(y=S);var w=v.prototype=m.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(a,s,r,l){var c=p(e[a],e,s);if("throw"!==c.type){var h=c.arg,u=h.value;return u&&"object"==i(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(u).then((function(e){h.value=e,r(h)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var a;s(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,a){n(e,i,t,a)}))}return a=a?a.then(o,o):o()}})}function C(e,t,n){var i="suspendedStart";return function(a,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var r=x(s,n);if(r){if(r===f)continue;return r}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=p(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=p(i,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function E(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return g.prototype=v,s(w,"constructor",{value:v,configurable:!0}),s(v,"constructor",{value:g,configurable:!0}),g.displayName=u(v,h,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,h,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},O(L.prototype),u(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,i,a,o){void 0===o&&(o=Promise);var s=new L(d(e,n,i,a),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(w),u(w,h,"Generator"),u(w,l,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=E,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var r=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(r&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(r){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},501:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},824:(e,t,n)=>{var i=n(337)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t,n,i,a,o,s){try{var r=e[o](s),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,a)}function t(t){return function(){var n=this,i=arguments;return new Promise((function(a,o){var s=t.apply(n,i);function r(t){e(s,a,o,r,l,"next",t)}function l(t){e(s,a,o,r,l,"throw",t)}r(void 0)}))}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}function r(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(824),c=n.n(l);function h(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e);if(!t)throw"Element ".concat(e," not found.");return t}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=document.createElement(e);return o.innerHTML=n,(t=o.classList).add.apply(t,a(i)),o}var d,p,f={};d=window,p=function(){return n={},e.m=t=[function(e,t,n){function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}t.__esModule=!0,t.kebabCase=t.highlight=t.isValueInArrayOfObjects=t.debounce=t.putContent=t.ensureElementInView=t.hasClassInTree=void 0,t.hasClassInTree=function(e,t){function n(e,t){return t&&e&&e.classList&&e.classList.contains(t)?e:null}return n(e,t)||function e(t,i){return t&&t!==document?n(t,i)?t:e(t.parentNode,i):null}(e,t)},t.ensureElementInView=function(e,t){var n=e.scrollTop+e.offsetTop,i=n+e.clientHeight,a=t.offsetTop;t=a+t.clientHeight,a<n?e.scrollTop-=n-a:i<t&&(e.scrollTop+=t-i)},t.putContent=function(e,t,n){var i=e.offsetHeight,a=e.getBoundingClientRect();return e=n?a.top:a.top-i,i=n?a.bottom:a.bottom+i,e<=0?"below":i>=window.innerHeight?"above":n?t:"below"},t.debounce=function(e,t,n){var i;return void 0===t&&(t=100),void 0===n&&(n=!1),function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=self,r=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(s,a)}),t),r&&e.apply(s,a)}},t.isValueInArrayOfObjects=function(e,t,n){if(!Array.isArray(e))return e[t]===n;for(var i=0,a=e;i<a.length;i++){var o=a[i];if(o&&o[t]&&o[t]===n)return!0}return!1},t.highlight=function(e,t,n){var i=e,a=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(a))return e;var o=e.match(a).index;return t=o+e.match(a)[0].toString().length,t=e.substring(o,t),i.replace(a,'<mark class="'.concat(n,'">').concat(t,"</mark>"))},t.kebabCase=function(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(e){return"-"+e.toLowerCase()}));return e[0]===e[0].toUpperCase()?t.substring(1):t},"function"!=typeof(t=window).CustomEvent&&(i.prototype=t.Event.prototype,t.CustomEvent=i)},function(e,t,n){t.__esModule=!0,t.validateOption=t.validateData=t.Data=void 0;var i=(a.prototype.newOption=function(e){return{id:e.id||String(Math.floor(1e8*Math.random())),value:e.value||"",text:e.text||"",innerHTML:e.innerHTML||"",selected:e.selected||!1,display:void 0===e.display||e.display,disabled:e.disabled||!1,placeholder:e.placeholder||!1,class:e.class||void 0,data:e.data||{},mandatory:e.mandatory||!1}},a.prototype.add=function(e){this.data.push({id:String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:e.mandatory,data:{}})},a.prototype.parseSelectData=function(){this.data=[];for(var e=0,t=this.main.select.element.childNodes;e<t.length;e++){var n=t[e];if("OPTGROUP"===n.nodeName){for(var i={label:n.label,options:[]},a=0,o=n.childNodes;a<o.length;a++){var s,r=o[a];"OPTION"===r.nodeName&&(s=this.pullOptionData(r),i.options.push(s),s.placeholder&&""!==s.text.trim()&&(this.main.config.placeholderText=s.text))}this.data.push(i)}else"OPTION"===n.nodeName&&(s=this.pullOptionData(n),this.data.push(s),s.placeholder&&""!==s.text.trim()&&(this.main.config.placeholderText=s.text))}},a.prototype.pullOptionData=function(e){return{id:!!e.dataset&&e.dataset.id||String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:e.innerHTML,selected:e.selected,disabled:e.disabled,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset,mandatory:!!e.dataset&&"true"===e.dataset.mandatory}},a.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var e=[],t=0,n=this.main.select.element.options;t<n.length;t++){var i=n[t];!i.selected||(i=this.getObjectFromData(i.value,"value"))&&i.id&&e.push(i.id)}this.setSelected(e,"id")}else{var a=this.main.select.element;-1!==a.selectedIndex&&(a=a.options[a.selectedIndex].value,this.setSelected(a,"value"))}},a.prototype.setSelected=function(e,t){void 0===t&&(t="id");for(var n=0,i=this.data;n<i.length;n++){var a=i[n];if(a.hasOwnProperty("label")){if(a.hasOwnProperty("options")){var o=a.options;if(o)for(var s=0,r=o;s<r.length;s++){var l=r[s];l.placeholder||(l.selected=this.shouldBeSelected(l,e,t))}}}else a.selected=this.shouldBeSelected(a,e,t)}},a.prototype.shouldBeSelected=function(e,t,n){if(void 0===n&&(n="id"),Array.isArray(t))for(var i=0,a=t;i<a.length;i++){var o=a[i];if(n in e&&String(e[n])===String(o))return!0}else if(n in e&&String(e[n])===String(t))return!0;return!1},a.prototype.getSelected=function(){for(var e={text:"",placeholder:this.main.config.placeholderText},t=[],n=0,i=this.data;n<i.length;n++){var a=i[n];if(a.hasOwnProperty("label")){if(a.hasOwnProperty("options")){var o=a.options;if(o)for(var s=0,r=o;s<r.length;s++){var l=r[s];l.selected&&(this.main.config.isMultiple?t.push(l):e=l)}}}else a.selected&&(this.main.config.isMultiple?t.push(a):e=a)}return this.main.config.isMultiple?t:e},a.prototype.addToSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){var n=[],i=this.getSelected();if(Array.isArray(i))for(var a=0,o=i;a<o.length;a++){var s=o[a];n.push(s[t])}n.push(e),this.setSelected(n,t)}},a.prototype.removeFromSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){for(var n=[],i=0,a=this.getSelected();i<a.length;i++){var o=a[i];String(o[t])!==String(e)&&n.push(o[t])}this.setSelected(n,t)}},a.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},a.prototype.getObjectFromData=function(e,t){void 0===t&&(t="id");for(var n=0,i=this.data;n<i.length;n++){var a=i[n];if(t in a&&String(a[t])===String(e))return a;if(a.hasOwnProperty("options")&&a.options)for(var o=0,s=a.options;o<s.length;o++){var r=s[o];if(String(r[t])===String(e))return r}}return null},a.prototype.search=function(e){var t,n;""!==(this.searchValue=e).trim()?(t=this.main.config.searchFilter,n=this.data.slice(0),e=e.trim(),n=n.map((function(n){if(n.hasOwnProperty("options")){var i=n,a=[];if(0!==(a=i.options?i.options.filter((function(n){return t(n,e)})):a).length)return(i=Object.assign({},i)).options=a,i}return n.hasOwnProperty("text")&&t(n,e)?n:null})),this.filtered=n.filter((function(e){return e}))):this.filtered=null},a);function a(e){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=e.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function o(e){return void 0!==e.text||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(e)),!1)}t.Data=i,t.validateData=function(e){if(!e)return console.error("Data must be an array of objects"),!1;for(var t=0,n=0,i=e;n<i.length;n++){var a=i[n];if(a.hasOwnProperty("label")){if(a.hasOwnProperty("options")){var s=a.options;if(s)for(var r=0,l=s;r<l.length;r++)o(l[r])||t++}}else o(a)||t++}return 0===t},t.validateOption=o},function(e,t,n){t.__esModule=!0;var i=n(3),a=n(4),o=n(5),s=n(1),r=n(0);function l(e){var t=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=(0,r.debounce)((function(e){t.data.contentOpen&&("above"===(0,r.putContent)(t.slim.content,t.data.contentPosition,t.data.contentOpen)?t.moveContentAbove():t.moveContentBelow())})),this.documentClick=function(e){e.target&&!(0,r.hasClassInTree)(e.target,t.config.id)&&t.close()};var n=this.validate(e);n.dataset.ssid&&this.destroy(n.dataset.ssid),e.ajax&&(this.ajax=e.ajax),e.addable&&(this.addable=e.addable),this.config=new i.Config({select:n,isAjax:!!e.ajax,showSearch:e.showSearch,searchPlaceholder:e.searchPlaceholder,searchText:e.searchText,searchingText:e.searchingText,searchFocus:e.searchFocus,searchHighlight:e.searchHighlight,searchFilter:e.searchFilter,closeOnSelect:e.closeOnSelect,showContent:e.showContent,placeholderText:e.placeholder,allowDeselect:e.allowDeselect,allowDeselectOption:e.allowDeselectOption,hideSelectedOption:e.hideSelectedOption,deselectLabel:e.deselectLabel,isEnabled:e.isEnabled,valuesUseText:e.valuesUseText,showOptionTooltips:e.showOptionTooltips,selectByGroup:e.selectByGroup,limit:e.limit,timeoutDelay:e.timeoutDelay,addToBody:e.addToBody}),this.select=new a.Select({select:n,main:this}),this.data=new s.Data({main:this}),this.slim=new o.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),e.data?this.setData(e.data):this.render(),document.addEventListener("click",this.documentClick),"auto"===this.config.showContent&&window.addEventListener("scroll",this.windowScroll,!1),e.beforeOnChange&&(this.beforeOnChange=e.beforeOnChange),e.onChange&&(this.onChange=e.onChange),e.beforeOpen&&(this.beforeOpen=e.beforeOpen),e.afterOpen&&(this.afterOpen=e.afterOpen),e.beforeClose&&(this.beforeClose=e.beforeClose),e.afterClose&&(this.afterClose=e.afterClose),this.config.isEnabled||this.disable()}l.prototype.validate=function(e){if(!(e="string"==typeof e.select?document.querySelector(e.select):e.select))throw new Error("Could not find select element");if("SELECT"!==e.tagName)throw new Error("Element isnt of type select");return e},l.prototype.selected=function(){if(this.config.isMultiple){for(var e=[],t=0,n=a=this.data.getSelected();t<n.length;t++){var i=n[t];e.push(i.value)}return e}var a;return(a=this.data.getSelected())?a.value:""},l.prototype.set=function(e,t,n,i){void 0===t&&(t="value"),void 0===n&&(n=!0),void 0===i&&(i=!0),this.config.isMultiple&&!Array.isArray(e)?this.data.addToSelected(e,t):this.data.setSelected(e,t),this.select.setValue(),this.data.onDataChange(),this.render(),(n=!(!this.config.hideSelectedOption||!this.config.isMultiple||this.data.getSelected().length!==this.data.data.length)||n)&&this.close()},l.prototype.setSelected=function(e,t,n,i){this.set(e,t=void 0===t?"value":t,n=void 0===n||n,i=void 0===i||i)},l.prototype.setData=function(e){if((0,s.validateData)(e)){for(var t=JSON.parse(JSON.stringify(e)),n=this.data.getSelected(),i=0;i<t.length;i++)t[i].value||t[i].placeholder||(t[i].value=t[i].text);if(this.config.isAjax&&n)if(this.config.isMultiple)for(var a=0,o=n.reverse();a<o.length;a++){var r=o[a];t.unshift(r)}else{for(t.unshift(n),i=0;i<t.length;i++)t[i].placeholder||t[i].value!==n.value||t[i].text!==n.text||t.splice(i,1);var l=!1;for(i=0;i<t.length;i++)t[i].placeholder&&(l=!0);l||t.unshift({text:"",placeholder:!0})}this.select.create(t),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},l.prototype.addData=function(e){(0,s.validateData)([e])?(this.data.add(this.data.newOption(e)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},l.prototype.open=function(){var e,t=this;this.config.isEnabled&&(this.data.contentOpen||this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length||(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add("above"===this.data.contentPosition?this.config.openAbove:this.config.openBelow),this.config.addToBody&&(e=this.slim.container.getBoundingClientRect(),this.slim.content.style.top=e.top+e.height+window.scrollY+"px",this.slim.content.style.left=e.left+window.scrollX+"px",this.slim.content.style.width=e.width+"px"),this.slim.content.classList.add(this.config.open),"up"===this.config.showContent.toLowerCase()||"down"!==this.config.showContent.toLowerCase()&&"above"===(0,r.putContent)(this.slim.content,this.data.contentPosition,this.data.contentOpen)?this.moveContentAbove():this.moveContentBelow(),this.config.isMultiple||(e=this.data.getSelected())&&(e=e.id,(e=this.slim.list.querySelector('[data-id="'+e+'"]'))&&(0,r.ensureElementInView)(this.slim.list,e)),setTimeout((function(){t.data.contentOpen=!0,t.config.searchFocus&&t.slim.search.input.focus(),t.afterOpen&&t.afterOpen()}),this.config.timeoutDelay)))},l.prototype.close=function(){var e=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout((function(){e.slim.content.removeAttribute("style"),e.data.contentPosition="below",e.config.isMultiple&&e.slim.multiSelected?(e.slim.multiSelected.container.classList.remove(e.config.openAbove),e.slim.multiSelected.container.classList.remove(e.config.openBelow)):e.slim.singleSelected&&(e.slim.singleSelected.container.classList.remove(e.config.openAbove),e.slim.singleSelected.container.classList.remove(e.config.openBelow)),e.slim.search.input.blur(),e.afterClose&&e.afterClose()}),this.config.timeoutDelay))},l.prototype.moveContentAbove=function(){var e=0;this.config.isMultiple&&this.slim.multiSelected?e=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(e=this.slim.singleSelected.container.offsetHeight);var t=e+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+t+"px 0 0 0",this.slim.content.style.height=t-e+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},l.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},l.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},l.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},l.prototype.search=function(e){var t;this.data.searchValue!==e&&(this.slim.search.input.value=e,this.config.isAjax?((t=this).config.isSearching=!0,this.render(),this.ajax&&this.ajax(e,(function(n){t.config.isSearching=!1,Array.isArray(n)?(n.unshift({text:"",placeholder:!0}),t.setData(n),t.data.search(e),t.render()):"string"==typeof n?t.slim.options(n):t.render()}))):(this.data.search(e),this.render()))},l.prototype.setSearchText=function(e){this.config.searchText=e},l.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},l.prototype.destroy=function(e){var t=(e=void 0===e?null:e)?document.querySelector("."+e+".ss-main"):this.slim.container,n=e?document.querySelector("[data-ssid=".concat(e,"]")):this.select.element;t&&n&&(document.removeEventListener("click",this.documentClick),"auto"===this.config.showContent&&window.removeEventListener("scroll",this.windowScroll,!1),n.style.display="",delete n.dataset.ssid,n.slim=null,t.parentElement&&t.parentElement.removeChild(t),!this.config.addToBody||(e=e?document.querySelector("."+e+".ss-content"):this.slim.content)&&document.body.removeChild(e))},n=l,t.default=n},function(e,t,n){t.__esModule=!0,t.Config=void 0;var i=(a.prototype.searchFilter=function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},a);function a(e){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=e.select.style.cssText,this.class=e.select.className.split(" "),this.isMultiple=e.select.multiple,this.isAjax=e.isAjax,this.showSearch=!1!==e.showSearch,this.searchFocus=!1!==e.searchFocus,this.searchHighlight=!0===e.searchHighlight,this.closeOnSelect=!1!==e.closeOnSelect,e.showContent&&(this.showContent=e.showContent),this.isEnabled=!1!==e.isEnabled,e.searchPlaceholder&&(this.searchPlaceholder=e.searchPlaceholder),e.searchText&&(this.searchText=e.searchText),e.searchingText&&(this.searchingText=e.searchingText),e.placeholderText&&(this.placeholderText=e.placeholderText),this.allowDeselect=!0===e.allowDeselect,this.allowDeselectOption=!0===e.allowDeselectOption,this.hideSelectedOption=!0===e.hideSelectedOption,e.deselectLabel&&(this.deselectLabel=e.deselectLabel),e.valuesUseText&&(this.valuesUseText=e.valuesUseText),e.showOptionTooltips&&(this.showOptionTooltips=e.showOptionTooltips),e.selectByGroup&&(this.selectByGroup=e.selectByGroup),e.limit&&(this.limit=e.limit),e.searchFilter&&(this.searchFilter=e.searchFilter),null!=e.timeoutDelay&&(this.timeoutDelay=e.timeoutDelay),this.addToBody=!0===e.addToBody}t.Config=i},function(e,t,n){t.__esModule=!0,t.Select=void 0;var i=n(0);function a(e){this.triggerMutationObserver=!0,this.element=e.select,this.main=e.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=e.main}a.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var e=this.main.data.getSelected(),t=0,n=this.element.options;t<n.length;t++){var i=n[t];i.selected=!1;for(var a=0,o=e;a<o.length;a++)o[a].value===i.value&&(i.selected=!0)}else e=this.main.data.getSelected(),this.element.value=e?e.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},a.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id,this.element.setAttribute("aria-hidden","true")},a.prototype.addEventListeners=function(){var e=this;this.element.addEventListener("change",(function(t){e.main.data.setSelectedFromSelect(),e.main.render()}))},a.prototype.addMutationObserver=function(){var e=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver((function(t){e.triggerMutationObserver&&(e.main.data.parseSelectData(),e.main.data.setSelectedFromSelect(),e.main.render(),t.forEach((function(t){"class"===t.attributeName&&e.main.slim.updateContainerDivClass(e.main.slim.container)})))})),this.observeMutationObserver())},a.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},a.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},a.prototype.create=function(e){this.element.innerHTML="";for(var t=0,n=e;t<n.length;t++){var i=n[t];if(i.hasOwnProperty("options")){var a=i,o=document.createElement("optgroup");if(o.label=a.label,a.options)for(var s=0,r=a.options;s<r.length;s++){var l=r[s];o.appendChild(this.createOption(l))}this.element.appendChild(o)}else this.element.appendChild(this.createOption(i))}},a.prototype.createOption=function(e){var t=document.createElement("option");return t.value=""!==e.value?e.value:e.text,t.innerHTML=e.innerHTML||e.text,e.selected&&(t.selected=e.selected),!1===e.display&&(t.style.display="none"),e.disabled&&(t.disabled=!0),e.placeholder&&t.setAttribute("data-placeholder","true"),e.mandatory&&t.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((function(e){t.classList.add(e)})),e.data&&"object"==typeof e.data&&Object.keys(e.data).forEach((function(n){t.setAttribute("data-"+(0,i.kebabCase)(n),e.data[n])})),t},n=a,t.Select=n},function(e,t,n){t.__esModule=!0,t.Slim=void 0;var i=n(0),a=n(1);function o(e){this.main=e.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}o.prototype.containerDiv=function(){var e=document.createElement("div");return e.style.cssText=this.main.config.style,this.updateContainerDivClass(e),e},o.prototype.updateContainerDivClass=function(e){this.main.config.class=this.main.select.element.className.split(" "),e.className="",e.classList.add(this.main.config.id),e.classList.add(this.main.config.main);for(var t=0,n=this.main.config.class;t<n.length;t++){var i=n[t];""!==i.trim()&&e.classList.add(i)}},o.prototype.singleSelectedDiv=function(){var e=this,t=document.createElement("div");t.classList.add(this.main.config.singleSelected);var n=document.createElement("span");n.classList.add("placeholder"),t.appendChild(n);var i=document.createElement("span");i.innerHTML=this.main.config.deselectLabel,i.classList.add("ss-deselect"),i.onclick=function(t){t.stopPropagation(),e.main.config.isEnabled&&e.main.set("")},t.appendChild(i);var a=document.createElement("span");a.classList.add(this.main.config.arrow);var o=document.createElement("span");return o.classList.add("arrow-down"),a.appendChild(o),t.appendChild(a),t.onclick=function(){e.main.config.isEnabled&&(e.main.data.contentOpen?e.main.close():e.main.open())},{container:t,placeholder:n,deselect:i,arrowIcon:{container:a,arrow:o}}},o.prototype.placeholder=function(){var e,t=this.main.data.getSelected();null===t||t&&t.placeholder?((e=document.createElement("span")).classList.add(this.main.config.disabled),e.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=e.outerHTML)):(e="",t&&(e=t.innerHTML&&!0!==this.main.config.valuesUseText?t.innerHTML:t.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=t?e:""))},o.prototype.deselect=function(){this.singleSelected&&(this.main.config.allowDeselect&&""!==this.main.selected()?this.singleSelected.deselect.classList.remove("ss-hide"):this.singleSelected.deselect.classList.add("ss-hide"))},o.prototype.multiSelectedDiv=function(){var e=this,t=document.createElement("div");t.classList.add(this.main.config.multiSelected);var n=document.createElement("div");n.classList.add(this.main.config.values),t.appendChild(n);var i=document.createElement("div");i.classList.add(this.main.config.add);var a=document.createElement("span");return a.classList.add(this.main.config.plus),a.onclick=function(t){e.main.data.contentOpen&&(e.main.close(),t.stopPropagation())},i.appendChild(a),t.appendChild(i),t.onclick=function(t){e.main.config.isEnabled&&(t.target.classList.contains(e.main.config.valueDelete)||(e.main.data.contentOpen?e.main.close():e.main.open()))},{container:t,values:n,add:i,plus:a}},o.prototype.values=function(){if(this.multiSelected){for(var e=this.multiSelected.values.childNodes,t=this.main.data.getSelected(),n=[],i=0,a=e;i<a.length;i++){for(var o=a[i],s=!0,r=0,l=t;r<l.length;r++){var c=l[r];String(c.id)===String(o.dataset.id)&&(s=!1)}s&&n.push(o)}for(var h=0,u=n;h<u.length;h++){var d=u[h];d.classList.add("ss-out"),this.multiSelected.values.removeChild(d)}var p;for(e=this.multiSelected.values.childNodes,c=0;c<t.length;c++){s=!1;for(var f=0,m=e;f<m.length;f++)o=m[f],String(t[c].id)===String(o.dataset.id)&&(s=!0);s||(0!==e.length&&HTMLElement.prototype.insertAdjacentElement?0===c?this.multiSelected.values.insertBefore(this.valueDiv(t[c]),e[c]):e[c-1].insertAdjacentElement("afterend",this.valueDiv(t[c])):this.multiSelected.values.appendChild(this.valueDiv(t[c])))}0===t.length&&((p=document.createElement("span")).classList.add(this.main.config.disabled),p.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=p.outerHTML)}},o.prototype.valueDiv=function(e){var t=this,n=document.createElement("div");n.classList.add(this.main.config.value),n.dataset.id=e.id;var i=document.createElement("span");return i.classList.add(this.main.config.valueText),i.innerHTML=e.innerHTML&&!0!==this.main.config.valuesUseText?e.innerHTML:e.text,n.appendChild(i),e.mandatory||((i=document.createElement("span")).classList.add(this.main.config.valueDelete),i.innerHTML=this.main.config.deselectLabel,i.onclick=function(n){n.preventDefault(),n.stopPropagation();var i=!1;if(t.main.beforeOnChange||(i=!0),t.main.beforeOnChange){n=t.main.data.getSelected();for(var a=JSON.parse(JSON.stringify(n)),o=0;o<a.length;o++)a[o].id===e.id&&a.splice(o,1);!1!==t.main.beforeOnChange(a)&&(i=!0)}i&&(t.main.data.removeFromSelected(e.id,"id"),t.main.render(),t.main.select.setValue(),t.main.data.onDataChange())},n.appendChild(i)),n},o.prototype.contentDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.content),e},o.prototype.searchDiv=function(){var e=this,t=document.createElement("div"),n=document.createElement("input"),i=document.createElement("div");t.classList.add(this.main.config.search);var o={container:t,input:n};return this.main.config.showSearch||(t.classList.add(this.main.config.hide),n.readOnly=!0),n.type="search",n.placeholder=this.main.config.searchPlaceholder,n.tabIndex=0,n.setAttribute("aria-label",this.main.config.searchPlaceholder),n.setAttribute("autocapitalize","off"),n.setAttribute("autocomplete","off"),n.setAttribute("autocorrect","off"),n.onclick=function(t){setTimeout((function(){""===t.target.value&&e.main.search("")}),10)},n.onkeydown=function(t){"ArrowUp"===t.key?(e.main.open(),e.highlightUp(),t.preventDefault()):"ArrowDown"===t.key?(e.main.open(),e.highlightDown(),t.preventDefault()):"Tab"===t.key?e.main.data.contentOpen?e.main.close():setTimeout((function(){e.main.close()}),e.main.config.timeoutDelay):"Enter"===t.key&&t.preventDefault()},n.onkeyup=function(t){var a=t.target;if("Enter"===t.key){if(e.main.addable&&t.ctrlKey)return i.click(),t.preventDefault(),void t.stopPropagation();var o=e.list.querySelector("."+e.main.config.highlighted);o&&o.click()}else"ArrowUp"===t.key||"ArrowDown"===t.key||("Escape"===t.key?e.main.close():e.main.config.showSearch&&e.main.data.contentOpen?e.main.search(a.value):n.value="");t.preventDefault(),t.stopPropagation()},n.onfocus=function(){e.main.open()},t.appendChild(n),this.main.addable&&(i.classList.add(this.main.config.addable),i.innerHTML="+",i.onclick=function(t){var n;e.main.addable&&(t.preventDefault(),t.stopPropagation(),""!==(t=e.search.input.value).trim()?(t=e.main.addable(t),n="",t&&("object"==typeof t?(0,a.validateOption)(t)&&(e.main.addData(t),n=t.value||t.text):(e.main.addData(e.main.data.newOption({text:t,value:t})),n=t),e.main.search(""),setTimeout((function(){e.main.set(n,"value",!1,!1)}),100),e.main.config.closeOnSelect&&setTimeout((function(){e.main.close()}),100))):e.search.input.focus())},t.appendChild(i),o.addable=i),o},o.prototype.highlightUp=function(){var e=this.list.querySelector("."+this.main.config.highlighted),t=null;if(e)for(t=e.previousSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.previousSibling;else{var n=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");t=n[n.length-1]}null!==(t=t&&t.classList.contains(this.main.config.optgroupLabel)?null:t)||(n=e.parentNode).classList.contains(this.main.config.optgroup)&&(!n.previousSibling||(n=n.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")")).length&&(t=n[n.length-1])),t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),(0,i.ensureElementInView)(this.list,t))},o.prototype.highlightDown=function(){var e,t=this.list.querySelector("."+this.main.config.highlighted),n=null;if(t)for(n=t.nextSibling;null!==n&&n.classList.contains(this.main.config.disabled);)n=n.nextSibling;else n=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");null!==n||null===t||(e=t.parentNode).classList.contains(this.main.config.optgroup)&&e.nextSibling&&(n=e.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")")),n&&(t&&t.classList.remove(this.main.config.highlighted),n.classList.add(this.main.config.highlighted),(0,i.ensureElementInView)(this.list,n))},o.prototype.listDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.list),e.setAttribute("role","listbox"),e},o.prototype.options=function(e){void 0===e&&(e="");var t=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==e)return(n=document.createElement("div")).classList.add(this.main.config.option),n.classList.add(this.main.config.disabled),n.innerHTML=e,void this.list.appendChild(n);if(this.main.config.isAjax&&this.main.config.isSearching)return(n=document.createElement("div")).classList.add(this.main.config.option),n.classList.add(this.main.config.disabled),n.innerHTML=this.main.config.searchingText,void this.list.appendChild(n);if(0===t.length){var n=document.createElement("div");return n.classList.add(this.main.config.option),n.classList.add(this.main.config.disabled),n.innerHTML=this.main.config.searchText,void this.list.appendChild(n)}for(var i=this,a=0,o=t;a<o.length;a++)!function(e){if(e.hasOwnProperty("label")){var t=e,n=document.createElement("div");n.classList.add(i.main.config.optgroup);var a=document.createElement("div");if(a.classList.add(i.main.config.optgroupLabel),i.main.config.selectByGroup&&i.main.config.isMultiple&&a.classList.add(i.main.config.optgroupLabelSelectable),a.innerHTML=t.label,n.appendChild(a),t=t.options){for(var o,s=0,r=t;s<r.length;s++){var l=r[s];n.appendChild(i.option(l))}i.main.config.selectByGroup&&i.main.config.isMultiple&&(o=i,a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();for(var t=0,i=n.children;t<i.length;t++){var a=i[t];-1!==a.className.indexOf(o.main.config.option)&&a.click()}})))}i.list.appendChild(n)}else i.list.appendChild(i.option(e))}(o[a])},o.prototype.option=function(e){if(e.placeholder){var t=document.createElement("div");return t.classList.add(this.main.config.option),t.classList.add(this.main.config.hide),t}var n=document.createElement("div");n.classList.add(this.main.config.option),n.setAttribute("role","option"),e.class&&e.class.split(" ").forEach((function(e){n.classList.add(e)})),e.style&&(n.style.cssText=e.style);var a=this.main.data.getSelected();n.dataset.id=e.id,this.main.config.searchHighlight&&this.main.slim&&e.innerHTML&&""!==this.main.slim.search.input.value.trim()?n.innerHTML=(0,i.highlight)(e.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):e.innerHTML&&(n.innerHTML=e.innerHTML),this.main.config.showOptionTooltips&&n.textContent&&n.setAttribute("title",n.textContent);var o=this;return n.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n=this.dataset.id;if(!0===e.selected&&o.main.config.allowDeselectOption){var i=!1;if(o.main.beforeOnChange&&o.main.config.isMultiple||(i=!0),o.main.beforeOnChange&&o.main.config.isMultiple){for(var s=o.main.data.getSelected(),r=JSON.parse(JSON.stringify(s)),l=0;l<r.length;l++)r[l].id===n&&r.splice(l,1);!1!==o.main.beforeOnChange(r)&&(i=!0)}i&&(o.main.config.isMultiple?(o.main.data.removeFromSelected(n,"id"),o.main.render(),o.main.select.setValue(),o.main.data.onDataChange()):o.main.set(""))}else e.disabled||e.selected||o.main.config.limit&&Array.isArray(a)&&o.main.config.limit<=a.length||(o.main.beforeOnChange?(s=void 0,(i=JSON.parse(JSON.stringify(o.main.data.getObjectFromData(n)))).selected=!0,o.main.config.isMultiple?(s=JSON.parse(JSON.stringify(a))).push(i):s=JSON.parse(JSON.stringify(i)),!1!==o.main.beforeOnChange(s)&&o.main.set(n,"id",o.main.config.closeOnSelect)):o.main.set(n,"id",o.main.config.closeOnSelect))})),t=a&&(0,i.isValueInArrayOfObjects)(a,"id",e.id),(e.disabled||t)&&(n.onclick=null,o.main.config.allowDeselectOption||n.classList.add(this.main.config.disabled),o.main.config.hideSelectedOption&&n.classList.add(this.main.config.hide)),t?n.classList.add(this.main.config.optionSelected):n.classList.remove(this.main.config.optionSelected),n},n=o,t.Slim=n}],e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(i,a,function(e){return t[e]}.bind(null,a));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=2).default;function e(i){if(n[i])return n[i].exports;var a=n[i]={i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var t,n},"object"==typeof f&&"object"==typeof module?module.exports=p():"function"==typeof define&&define.amd?define([],p):"object"==typeof f?f.SlimSelect=p():d.SlimSelect=p();const m=f.SlimSelect;function g(e,t){return Object.keys(e).sort().map((function(n){return"".concat(encodeURIComponent(n),"=").concat(t?(i=e[n],encodeURIComponent(i).replace(/(%2F|%3A|%2C|%7B|%7D)/g,decodeURIComponent)):encodeURIComponent(e[n]));var i})).join("&")}function v(e,t){return y.apply(this,arguments)}function y(){return(y=t(c().mark((function e(t,n){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"?").concat(g(n)),{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, Authorization, X-Requested-With, X-Auth-Token"}});case 2:return i=e.sent,e.next=5,i.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return S.apply(this,arguments)}function S(){return(S=t(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("https://taginfo.openstreetmap.org/api/4/projects/all",{});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){r=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(r)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function L(){return C.apply(this,arguments)}function C(){return(C=t(c().mark((function e(){var t,n,i,a,o,s,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.querySelectorAll("*[dynamic-src]"),n=0;case 2:if(!(n<t.length)){e.next=33;break}if(i=t[n].getBoundingClientRect(),!(t[n].hasAttribute("dynamic-src")&&i.top<2*window.innerHeight)){e.next=30;break}a=(t[n].getAttribute("dynamic-src")||"").split(" "),o=w(a),e.prev=7,o.s();case 9:if((s=o.n()).done){e.next=21;break}if(r=s.value,e.t0=document.body.contains(t[n]),!e.t0){e.next=16;break}return e.next=15,x(r);case 15:e.t0=e.sent;case 16:if(!e.t0){e.next=19;break}return t[n].setAttribute("src",r),e.abrupt("break",21);case 19:e.next=9;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(7),o.e(e.t1);case 26:return e.prev=26,o.f(),e.finish(26);case 29:t[n].removeAttribute("dynamic-src");case 30:n++,e.next=2;break;case 33:case"end":return e.stop()}}),e,null,[[7,23,26,29]])})))).apply(this,arguments)}function x(e){return D.apply(this,arguments)}function D(){return(D=t(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new Image;n.addEventListener("load",(function(){e(!0)})),n.addEventListener("error",(function(){e(!1)})),n.src=t,n.complete&&e(!0)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){localStorage.setItem(e,JSON.stringify(t))}function M(e){try{var t=localStorage.getItem(e);if(!t)return;return JSON.parse(t)}catch(e){return}}function E(e,t){return(e||"").toUpperCase()===(t||"").toUpperCase()}function A(e){for(var t=0,n=0,i=0,a=0;a<e.length;a++)a%3==0?t=(t+e.charCodeAt(a))%256:a%3==1?n=(n+e.charCodeAt(a))%256:i=(i+e.charCodeAt(a))%256;return{r:t,g:n,b:i}}function k(e){var t=u("div",'<div class="header">\n        <div class="name">'.concat(e.website?'<a href="'.concat(e.website,'" target="_blank"><span itemprop="name">').concat(e.name,"</span></a>"):'<span itemprop="name">'.concat(e.name,"</span>"),"</div>\n        ").concat(e.website?'<a href="'.concat(e.website,'" target="_blank">').concat(I(e),"</a>"):I(e),'\n      </div>\n      <div class="description"><span itemprop="description">').concat(e.description,"</span> ").concat(e.documentation?'<a href="'.concat(e.documentation,'" target="_blank">Documentation</a>'):"","</div>\n      ").concat(e.website?'<a class="link" href="'.concat(e.website,'" target="_blank" title="Website" itemprop="url"><i class="far fa-map"></i></a>'):"","\n\n      ").concat(e.install.asin?'<a class="link" href="https://www.amazon.com/dp/'.concat(e.install.asin,'" target="_blank" title="Amazon Appstore" itemprop="installUrl"><i class="fab fa-amazon"></i></a>'):"","\n      ").concat(e.install.bbWorldID?'<a class="link" href="https://appworld.blackberry.com/webstore/content/'.concat(e.install.bbWorldID,'/" target="_blank" title="BlackBerry World" itemprop="installUrl"><i class="fab fa-blackberry"></i></a>'):"","\n      ").concat(e.install.fDroidID?'<a class="link" href="https://f-droid.org/repository/browse/?fdid='.concat(e.install.fDroidID,'" target="_blank" title="F-Droid" itemprop="installUrl"><i class="fab fa-android"></i></a>'):"","\n      ").concat(e.install.googlePlayID?'<a class="link" href="https://play.google.com/store/apps/details?id='.concat(e.install.googlePlayID,'" target="_blank" title="Google Play" itemprop="installUrl"><i class="fab fa-google-play"></i></a>'):"","\n      ").concat(e.install.appleStoreID?'<a class="link" href="https://itunes.apple.com/app/'.concat(e.install.appleStoreID.toUpperCase().startsWith("ID")?e.install.appleStoreID:"id".concat(e.install.appleStoreID),'" target="_blank" title="iTunes App Store" itemprop="installUrl"><i class="fab fa-app-store-ios"></i></a>'):"","\n      ").concat(e.install.macAppStoreID?'<a class="link" href="https://itunes.apple.com/app/'.concat(e.install.macAppStoreID.toUpperCase().startsWith("ID")?e.install.macAppStoreID:"id".concat(e.install.macAppStoreID),'" target="_blank" title="Mac App Store" itemprop="installUrl"><i class="fab fa-app-store"></i></a>'):"","\n      ").concat(e.install.microsoftAppID?'<a class="link" href="http://www.windowsphone.com/s?appid='.concat(e.install.microsoftAppID,'" target="_blank" title="Microsoft Store" itemprop="installUrl"><i class="fab fa-microsoft"></i></a>'):"",'\n      <div class="topics" itemprop="applicationCategory" content="').concat(["Map"].concat(a(e.topics)).join(", "),'">').concat(e.topics.map((function(e){var t=A(e),n=(299*t.r+587*t.g+114*t.b)/1e3;return'<span class="topic" style="background: rgb('.concat(t.r,",").concat(t.g,",").concat(t.b,"); color:").concat(n>=128?"black":"white",';">').concat(e,"</span>")})).join(""),"</div>\n\n        ").concat(e.author||e.platform.length>0||e.languages.length>0||e.sourceCode?'\n            <a class="more-infos-button" href="#">More <i class="fas fa-angle-down"></i></a>\n            <div class="more-infos" style="display:none;">\n        <div class="more-infos-title">Informations</div>\n        '.concat(e.author?'<div class="more-info">\n          <span class="more-info-title">Author</span> <span class="more-info-text" itemprop="author">'.concat(e.author,"</span>\n        </div>"):"","\n        ").concat(e.platform.length>0?'<div class="more-info">\n          <span class="more-info-title">Platforms</span> <span class="more-info-text" itemprop="operatingSystem">'.concat(e.platform.join(", "),"</span>\n        </div>"):"","\n        ").concat(e.lastRelease?'<div class="more-info">\n          <span class="more-info-title">Last release</span> <span class="more-info-text" itemprop="softwareVersion">'.concat(e.lastRelease,"</span>\n        </div>"):"","\n        ").concat(e.languagesUrl?'<a class="more-info" href="'.concat(e.languagesUrl,'" target="_blank">\n                <span class="more-info-title">Languages</span> <span class="more-info-text">').concat(e.languages.length>0?e.languages.join(", "):'<i class="fas fa-language"></i>',"</span>\n              </a>"):e.languages.length>0?'<div class="more-info">\n          <span class="more-info-title">Languages</span> <span class="more-info-text">'.concat(e.languages.join(", "),"</span>\n        </div>"):"","\n        ").concat(e.sourceCode?'<a class="more-info" href="'.concat(e.sourceCode,'" target="_blank">\n          <span class="more-info-title">Source code</span> <span class="more-info-text"><i class="fas fa-code"></i></span>\n        </a>'):"","\n        </div>"):"","\n\n        "),["app"]);t.setAttribute("itemscope",""),t.setAttribute("itemtype","https://schema.org/SoftwareApplication");var n=t.querySelector(".more-infos-button"),i=t.querySelector(".more-infos");null==n||n.addEventListener("click",(function(e){null==n||n.setAttribute("style","display: none;"),null==i||i.setAttribute("style",""),e.preventDefault()})),h(".apps").appendChild(t)}function I(e){var t="https://wiki.openstreetmap.org/w/images/thumb/c/ca/Map-14.svg/140px-Map-14.svg.png";return e.images.length>0?'<img class="img" src="'.concat(t,'" dynamic-src="').concat(e.images.join(" ")," ").concat(t,'"/>'):'<img class="img" style="'.concat(e.filter,'" src="').concat(t,'"/>')}function j(e,t){return t.every((function(t){return e.includes(t)}))}function P(e){return e.filter((function(t,n){return e.indexOf(t)===n}))}function U(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function _(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}window.addEventListener("scroll",L),window.addEventListener("load",L),window.addEventListener("resize",L);var B=function(){function e(t,n,i){H(this,e),this.r=t,this.g=n,this.b=i,this.set(t,n,i)}return _(e,[{key:"toString",value:function(){return"rgb(".concat(Math.round(this.r),", ").concat(Math.round(this.g),", ").concat(Math.round(this.b),")")}},{key:"set",value:function(e,t,n){this.r=this.clamp(e),this.g=this.clamp(t),this.b=this.clamp(n)}},{key:"hueRotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=e/180*Math.PI;var t=Math.sin(e),n=Math.cos(e);this.multiply([.213+.787*n-.213*t,.715-.715*n-.715*t,.072-.072*n+.928*t,.213-.213*n+.143*t,.715+.285*n+.14*t,.072-.072*n-.283*t,.213-.213*n-.787*t,.715-.715*n+.715*t,.072+.928*n+.072*t])}},{key:"grayscale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e)])}},{key:"sepia",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e)])}},{key:"saturate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.213+.787*e,.715-.715*e,.072-.072*e,.213-.213*e,.715+.285*e,.072-.072*e,.213-.213*e,.715-.715*e,.072+.928*e])}},{key:"multiply",value:function(e){var t=this.clamp(this.r*e[0]+this.g*e[1]+this.b*e[2]),n=this.clamp(this.r*e[3]+this.g*e[4]+this.b*e[5]),i=this.clamp(this.r*e[6]+this.g*e[7]+this.b*e[8]);this.r=t,this.g=n,this.b=i}},{key:"brightness",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(e)}},{key:"contrast",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(e,-.5*e+.5)}},{key:"linear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.r=this.clamp(this.r*e+255*t),this.g=this.clamp(this.g*e+255*t),this.b=this.clamp(this.b*e+255*t)}},{key:"invert",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.r=this.clamp(255*(e+this.r/255*(1-2*e))),this.g=this.clamp(255*(e+this.g/255*(1-2*e))),this.b=this.clamp(255*(e+this.b/255*(1-2*e)))}},{key:"hsl",value:function(){var e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),a=Math.min(e,t,n),o=0,s=0,r=(i+a)/2;if(i===a)o=s=0;else{var l=i-a;switch(s=r>.5?l/(2-i-a):l/(i+a),i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:100*o,s:100*s,l:100*r}}},{key:"clamp",value:function(e){return e>255?e=255:e<0&&(e=0),e}}]),e}(),R=function(){function e(t){H(this,e),r(this,"target",void 0),r(this,"targetHSL",void 0),r(this,"reusedColor",void 0),this.target=t,this.targetHSL=t.hsl(),this.reusedColor=new B(0,0,0)}return _(e,[{key:"solve",value:function(){var e=this.solveNarrow(this.solveWide());return{values:e.values,loss:e.loss,filter:this.css(e.values)}}},{key:"solveWide",value:function(){for(var e=[60,180,18e3,600,1.2,1.2],t={loss:1/0,values:[]},n=0;t.loss>25&&n<3;n++){var i=this.spsa(5,e,15,[50,20,3750,50,100,100],1e3);i.loss<t.loss&&(t=i)}return t}},{key:"solveNarrow",value:function(e){var t=e.loss,n=t+1,i=[.25*n,.25*n,n,.25*n,.2*n,.2*n];return this.spsa(t,i,2,e.values,500)}},{key:"spsa",value:function(e,t,n,i,a){for(var o=[],s=1/0,r=new Array(6),l=new Array(6),c=new Array(6),h=0;h<a;h++){for(var u=n/Math.pow(h+1,.16666666666666666),d=0;d<6;d++)r[d]=Math.random()>.5?1:-1,l[d]=i[d]+u*r[d],c[d]=i[d]-u*r[d];for(var p=this.loss(l)-this.loss(c),f=0;f<6;f++){var m=p/(2*u)*r[f],g=t[f]/Math.pow(e+h+1,1);i[f]=(y=i[f]-g*m,S=void 0,S=100,2===(b=f)?S=7500:4!==b&&5!==b||(S=200),3===b?y>S?y%=S:y<0&&(y=S+y%S):y<0?y=0:y>S&&(y=S),y)}var v=this.loss(i);v<s&&(o=i.slice(0),s=v)}var y,b,S;return{values:o,loss:s}}},{key:"loss",value:function(e){var t=this.reusedColor;t.set(0,0,0),t.invert(e[0]/100),t.sepia(e[1]/100),t.saturate(e[2]/100),t.hueRotate(3.6*e[3]),t.brightness(e[4]/100),t.contrast(e[5]/100);var n=t.hsl();return Math.abs(t.r-this.target.r)+Math.abs(t.g-this.target.g)+Math.abs(t.b-this.target.b)+Math.abs(n.h-this.targetHSL.h)+Math.abs(n.s-this.targetHSL.s)+Math.abs(n.l-this.targetHSL.l)}},{key:"css",value:function(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(e[t]*n)}return"filter: invert(".concat(t(0),"%) sepia(").concat(t(1),"%) saturate(").concat(t(2),"%) hue-rotate(").concat(t(3,3.6),"deg) brightness(").concat(t(4),"%) contrast(").concat(t(5),"%);")}}]),e}(),F=["ANDROID","GARMIN","KINDLE","MAEMO","MEEGO","PALM OS","SYMBIAN","UBUNTU PHONE","UBUNTU TOUCH","WEBOS","WINDOWS MOBILE","WINDOWS PHONE","IOS","ZAURUS"];function G(e){return e.topics.map((function(e){return e.toUpperCase()})).some((function(e){return["OFFLINE","CACHE"].includes(e)}))||e.platform.map((function(e){return e.toUpperCase()})).some((function(e){return F.includes(e)}))||e.install.asin||e.install.bbWorldID||e.install.googlePlayID||e.install.fDroidID||e.install.appleStoreID}function W(e){return e.topics.map((function(e){return e.toUpperCase()})).some((function(e){return["NAVI","ROUTING","ROUTER"].includes(e)}))}function V(e){return e.topics.map((function(e){return e.toUpperCase()})).some((function(e){return["ADD POIS","EDIT","EDITING","EDITOR","ANALYSE","ANALYSER","ANALYSIS","TRACK RECORDING","TRACKER","TRACKING","VALIDATOR","OSM TOOL","QA","QUALITY CONTROL"].includes(e)}))}function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){r=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(r)throw o}}}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=!1,X=[],$=new m({select:"#topic",placeholder:"Topic",onChange:function(){te()}}),Q=new m({select:"#platform",placeholder:"Platform",onChange:function(){te()}}),Z=new m({select:"#language",placeholder:"Language",onChange:function(){te()}});document.getElementById("search").addEventListener("input",(function(){te()}));var ee=new m({select:"#category",showSearch:!1,placeholder:"Category",data:[{value:"all",innerHTML:"<i class='fas fa-layer-group' style='position: absolute;right: 28px;'></i> All",text:"All"},{value:"focus",innerHTML:"<i class='far fa-eye' style='position: absolute;right: 27px;'></i> Focus",text:"Focus"},{value:"latest",innerHTML:"<i class='far fa-clock' style='position: absolute;right: 28px;'></i> Latest",text:"Latest"},{value:"mobile",innerHTML:"<i class='fas fa-mobile-alt' style='position: absolute;right: 31px;'></i> To go",text:"To go"},{value:"navigation",innerHTML:"<i class='far fa-compass' style='position: absolute;right: 28px;'></i> Find your way",text:"Find your way"},{value:"edit",innerHTML:"<i class='fas fa-edit' style='position: absolute;right: 26px;'></i> Contribute",text:"Contribute"}].map((function(e){return z(z({},e),{},{selected:e.value===document.location.hash.slice(1)})})),onChange:function(){te(!0)}});function te(e){K||(K=!0,e&&(document.getElementById("search").value="",$.set([]),Q.set([]),Z.set([])),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;document.location.hash="all"===o?"":o;var s,r="";if("all"===o?r="Shows all apps found on the OpenStreetMap wiki in random order.":"focus"===o?r="Shows ten apps from the most recently updated OpenStreetMap wiki pages.":"latest"===o?r="Shows all apps found on the OpenStreetMap wiki, ordered by last release date.":"mobile"===o?r="Shows apps developed for mobile devices or that support offline use.":"navigation"===o?r="Shows apps that support routing or navigation.":"edit"===o&&(r="Shows apps that support adding, editing or analysing OpenStreetMap data or recording geotracks."),h(".description").innerHTML=r,h(".apps").innerHTML="","latest"===o)s=(s=X.slice().sort((function(e,t){var n,i,a=(null===(n=e.lastChange)||void 0===n?void 0:n.toUpperCase())||"",o=(null===(i=t.lastChange)||void 0===i?void 0:i.toUpperCase())||"";return a<o?1:a>o?-1:0}))).sort((function(e,t){var n,i,a=(null===(n=e.lastRelease)||void 0===n?void 0:n.toUpperCase())||"",o=(null===(i=t.lastRelease)||void 0===i?void 0:i.toUpperCase())||"";return a<o?1:a>o?-1:0}));else if("focus"===o){var l=X.slice().sort((function(e,t){var n,i,a=(null===(n=e.lastChange)||void 0===n?void 0:n.toUpperCase())||"",o=(null===(i=t.lastChange)||void 0===i?void 0:i.toUpperCase())||"";return a<o?1:a>o?-1:0}));s=[];var c,d=q(l);try{var p=function(){var e=c.value;if(!(s.length<10))return"break";s.some((function(t){return t.sourceWiki.toUpperCase()===e.sourceWiki.toUpperCase()}))||s.push(e)};for(d.s();!(c=d.n()).done&&"break"!==p(););}catch(e){d.e(e)}finally{d.f()}}else s=X.slice();e=e.toUpperCase();var f=t.map((function(e){return e.toUpperCase()})),m=n.map((function(e){return e.toUpperCase()})),g=i.map((function(e){return e.toUpperCase()}));e&&(s=s.filter((function(t){return-1!==t.name.toUpperCase().search(e)||-1!==t.description.toUpperCase().search(e)||t.topics.filter((function(t){return-1!==t.toUpperCase().search(e)})).length>0||t.platform.filter((function(t){return-1!==t.toUpperCase().search(e)})).length>0}))),f.length>0&&(s=s.filter((function(e){return j(e.topics.map((function(e){return e.toUpperCase()})),f)}))),m.length>0&&(s=s.filter((function(e){return j(e.platform.map((function(e){return e.toUpperCase()})),m)}))),g.length>0&&(s=s.filter((function(e){return j(e.languages.map((function(e){return e.toUpperCase()})),g)})));var v=[];"mobile"===o?(v.push.apply(v,a(s.filter(G))),s=v):"navigation"===o?(v.push.apply(v,a(s.filter(W))),s=v):"edit"===o&&(v.push.apply(v,a(s.filter(V))),s=v);var y,b=[],S=[],w=[],O=q(s);try{for(O.s();!(y=O.n()).done;){var C=y.value;b.push.apply(b,a(C.topics.map((function(e){return e})))),S.push.apply(S,a(C.platform.map((function(e){return e})))),w.push.apply(w,a(C.languages.map((function(e){return e}))))}}catch(e){O.e(e)}finally{O.f()}$.setData(he(b,t)),$.set(t),Q.setData(he(S,n)),Q.set(n),Z.setData(he(w,i)),Z.set(i);var x,D=q(s);try{for(D.s();!(x=D.n()).done;)k(x.value)}catch(e){D.e(e)}finally{D.f()}if(f.length>0){var T=X.filter((function(e){return!s.includes(e)}));if(T=T.filter((function(e){return f.every((function(t){return-1!==e.name.toUpperCase().search(t)||-1!==e.description.toUpperCase().search(t)}))})),e&&(T=T.filter((function(t){return-1!==t.name.toUpperCase().search(e)||-1!==t.description.toUpperCase().search(e)||t.topics.filter((function(t){return-1!==t.toUpperCase().search(e)})).length>0||t.platform.filter((function(t){return-1!==t.toUpperCase().search(e)})).length>0}))),m.length>0&&(T=T.filter((function(e){return j(e.platform.map((function(e){return e.toUpperCase()})),m)}))),g.length>0&&(T=T.filter((function(e){return j(e.languages.map((function(e){return e.toUpperCase()})),g)}))),T.length>0){var M=u("h2","Related apps");h(".apps").appendChild(M);var E,A=q(T);try{for(A.s();!(E=A.n()).done;)k(E.value)}catch(e){A.e(e)}finally{A.f()}}}L()}(document.getElementById("search").value,$.selected(),Q.selected(),Z.selected(),ee.selected()),K=!1)}var ne,ie,ae=("lang",ie=[],location.search.substr(1).split("&").forEach((function(e){"lang"===(ie=e.split("="))[0]&&(ne=decodeURIComponent(ie[1]))})),ne||"en").toLowerCase();function oe(){return(oe=t(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=M("".concat(ae,"-apps-date")))&&new Date(t).valueOf()>Date.now()-864e5&&(console.info("get catalog from cache"),X=M("".concat(ae,"-apps"))||[],te()),0!==X.length){e.next=12;break}if(console.info("load catalog from wiki"),"en"===ae){e.next=8;break}return e.next=8,le(ae);case 8:return e.next=10,le();case 10:U(X),T("".concat(ae,"-apps"),X),T("".concat(ae,"-apps-date"),new Date),console.info("add catalog to cache");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){var t=X.filter((function(t){return E(t.name,e.name)}));if(0===t.length)X.push(e),re(e);else{var n,i,o,s,r=t[0];r.lastRelease&&e.lastRelease&&r.lastRelease<e.lastRelease?r.lastRelease=e.lastRelease:r.lastRelease=r.lastRelease||e.lastRelease,r.description=r.description||e.description,(n=r.images).push.apply(n,a(e.images)),r.images=P(r.images),(i=r.languages).push.apply(i,a(e.languages)),r.languages=P(r.languages),(o=r.topics).push.apply(o,a(e.topics)),r.topics=P(r.topics),(s=r.platform).push.apply(s,a(e.platform)),r.platform=P(r.platform),r.website=r.website||e.website,/List.of.OSM.based.services/gi.test(r.documentation)&&(r.documentation=e.documentation||r.documentation),/List.of.OSM.based.services/gi.test(r.sourceWiki)&&(r.documentation=e.sourceWiki||r.sourceWiki,r.lastChange=e.lastChange||r.lastChange),r.author=r.author||e.author,r.sourceCode=r.sourceCode||e.sourceCode,r.install.asin=r.install.asin||e.install.asin,r.install.bbWorldID=r.install.bbWorldID||e.install.bbWorldID,r.install.fDroidID=r.install.fDroidID||e.install.fDroidID,r.install.googlePlayID=r.install.googlePlayID||e.install.googlePlayID,r.install.appleStoreID=r.install.appleStoreID||e.install.appleStoreID,r.install.macAppStoreID=r.install.macAppStoreID||e.install.macAppStoreID,r.install.microsoftAppID=r.install.microsoftAppID||e.install.microsoftAppID,re(r)}}function re(e){if(0===e.images.length&&!e.filter){var t=A(e.name);e.filter=new R(new B(t.r,t.g,t.b)).solve().filter.replace(/filter:/gi,"filter: brightness(0%)")}}function le(){return ce.apply(this,arguments)}function ce(){return(ce=t(c().mark((function e(){var t,n,i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,b();case 3:t=e.sent,n=q(t);try{for(n.s();!(i=n.n()).done;)se({name:(a=i.value).name,website:a.project_url,images:[a.icon_url],documentation:a.doc_url,sourceWiki:a.doc_url,description:a.description,topics:[],languages:[],platform:[],install:{}})}catch(e){n.e(e)}finally{n.f()}te();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t){e.sort();var n,i=[],a=q(e);try{var o=function(){var e=n.value,t=i.filter((function(t){return E(t.name,e)}));t.length>0?t[0].count++:i.push({name:e,count:1})};for(a.s();!(n=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}return i.map((function(e){return t.filter((function(t){return E(e.name,t)})).length>0?{value:e.name,text:e.name}:{value:e.name,text:"".concat(e.name," (").concat(e.count,")")}}))}!function(){oe.apply(this,arguments)}()})()})();