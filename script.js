!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/script.ts")}({"./node_modules/charenc/charenc.js":function(e,t){var i={utf8:{stringToBytes:function(e){return i.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(i.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t},bytesToString:function(e){for(var t=[],i=0;i<e.length;i++)t.push(String.fromCharCode(e[i]));return t.join("")}}};e.exports=i},"./node_modules/crypt/crypt.js":function(e,t){var i,n;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],i=0,n=0;i<e.length;i++,n+=8)t[n>>>5]|=e[i]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],i=0;i<32*e.length;i+=8)t.push(e[i>>>5]>>>24-i%32&255);return t},bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var s=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?t.push(i.charAt(s>>>6*(3-a)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,s=0;n<e.length;s=++n%4)0!=s&&t.push((i.indexOf(e.charAt(n-1))&Math.pow(2,-2*s+8)-1)<<2*s|i.indexOf(e.charAt(n))>>>6-2*s);return t}},e.exports=n},"./node_modules/is-buffer/index.js":function(e,t){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(i(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))}(e)||!!e._isBuffer)}},"./node_modules/md5/md5.js":function(e,t,i){var n,s,a,o,r;n=i("./node_modules/crypt/crypt.js"),s=i("./node_modules/charenc/charenc.js").utf8,a=i("./node_modules/is-buffer/index.js"),o=i("./node_modules/charenc/charenc.js").bin,(r=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):s.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var i=n.bytesToWords(e),l=8*e.length,c=1732584193,d=-271733879,u=-1732584194,p=271733878,h=0;h<i.length;h++)i[h]=16711935&(i[h]<<8|i[h]>>>24)|4278255360&(i[h]<<24|i[h]>>>8);i[l>>>5]|=128<<l%32,i[14+(l+64>>>9<<4)]=l;var m=r._ff,f=r._gg,g=r._hh,y=r._ii;for(h=0;h<i.length;h+=16){var v=c,b=d,w=u,S=p;d=y(d=y(d=y(d=y(d=g(d=g(d=g(d=g(d=f(d=f(d=f(d=f(d=m(d=m(d=m(d=m(d,u=m(u,p=m(p,c=m(c,d,u,p,i[h+0],7,-680876936),d,u,i[h+1],12,-389564586),c,d,i[h+2],17,606105819),p,c,i[h+3],22,-1044525330),u=m(u,p=m(p,c=m(c,d,u,p,i[h+4],7,-176418897),d,u,i[h+5],12,1200080426),c,d,i[h+6],17,-1473231341),p,c,i[h+7],22,-45705983),u=m(u,p=m(p,c=m(c,d,u,p,i[h+8],7,1770035416),d,u,i[h+9],12,-1958414417),c,d,i[h+10],17,-42063),p,c,i[h+11],22,-1990404162),u=m(u,p=m(p,c=m(c,d,u,p,i[h+12],7,1804603682),d,u,i[h+13],12,-40341101),c,d,i[h+14],17,-1502002290),p,c,i[h+15],22,1236535329),u=f(u,p=f(p,c=f(c,d,u,p,i[h+1],5,-165796510),d,u,i[h+6],9,-1069501632),c,d,i[h+11],14,643717713),p,c,i[h+0],20,-373897302),u=f(u,p=f(p,c=f(c,d,u,p,i[h+5],5,-701558691),d,u,i[h+10],9,38016083),c,d,i[h+15],14,-660478335),p,c,i[h+4],20,-405537848),u=f(u,p=f(p,c=f(c,d,u,p,i[h+9],5,568446438),d,u,i[h+14],9,-1019803690),c,d,i[h+3],14,-187363961),p,c,i[h+8],20,1163531501),u=f(u,p=f(p,c=f(c,d,u,p,i[h+13],5,-1444681467),d,u,i[h+2],9,-51403784),c,d,i[h+7],14,1735328473),p,c,i[h+12],20,-1926607734),u=g(u,p=g(p,c=g(c,d,u,p,i[h+5],4,-378558),d,u,i[h+8],11,-2022574463),c,d,i[h+11],16,1839030562),p,c,i[h+14],23,-35309556),u=g(u,p=g(p,c=g(c,d,u,p,i[h+1],4,-1530992060),d,u,i[h+4],11,1272893353),c,d,i[h+7],16,-155497632),p,c,i[h+10],23,-1094730640),u=g(u,p=g(p,c=g(c,d,u,p,i[h+13],4,681279174),d,u,i[h+0],11,-358537222),c,d,i[h+3],16,-722521979),p,c,i[h+6],23,76029189),u=g(u,p=g(p,c=g(c,d,u,p,i[h+9],4,-640364487),d,u,i[h+12],11,-421815835),c,d,i[h+15],16,530742520),p,c,i[h+2],23,-995338651),u=y(u,p=y(p,c=y(c,d,u,p,i[h+0],6,-198630844),d,u,i[h+7],10,1126891415),c,d,i[h+14],15,-1416354905),p,c,i[h+5],21,-57434055),u=y(u,p=y(p,c=y(c,d,u,p,i[h+12],6,1700485571),d,u,i[h+3],10,-1894986606),c,d,i[h+10],15,-1051523),p,c,i[h+1],21,-2054922799),u=y(u,p=y(p,c=y(c,d,u,p,i[h+8],6,1873313359),d,u,i[h+15],10,-30611744),c,d,i[h+6],15,-1560198380),p,c,i[h+13],21,1309151649),u=y(u,p=y(p,c=y(c,d,u,p,i[h+4],6,-145523070),d,u,i[h+11],10,-1120210379),c,d,i[h+2],15,718787259),p,c,i[h+9],21,-343485551),c=c+v>>>0,d=d+b>>>0,u=u+w>>>0,p=p+S>>>0}return n.endian([c,d,u,p])})._ff=function(e,t,i,n,s,a,o){var r=e+(t&i|~t&n)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},r._gg=function(e,t,i,n,s,a,o){var r=e+(t&n|i&~n)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},r._hh=function(e,t,i,n,s,a,o){var r=e+(t^i^n)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},r._ii=function(e,t,i,n,s,a,o){var r=e+(i^(t|~n))+(s>>>0)+o;return(r<<a|r>>>32-a)+t},r._blocksize=16,r._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var i=n.wordsToBytes(r(e,t));return t&&t.asBytes?i:t&&t.asString?o.bytesToString(i):n.bytesToHex(i)}},"./node_modules/slim-select/dist/slimselect.min.js":function(e,t,i){window,e.exports=function(){return i={},e.m=t=[function(e,t,i){"use strict";function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}var s;t.__esModule=!0,t.hasClassInTree=function(e,t){function i(e,t){return t&&e&&e.classList&&e.classList.contains(t)?e:null}return i(e,t)||function e(t,n){return t&&t!==document?i(t,n)?t:e(t.parentNode,n):null}(e,t)},t.ensureElementInView=function(e,t){var i=e.scrollTop+e.offsetTop,n=i+e.clientHeight,s=t.offsetTop,a=s+t.clientHeight;s<i?e.scrollTop-=i-s:n<a&&(e.scrollTop+=a-n)},t.putContent=function(e,t,i){var n=e.offsetHeight,s=e.getBoundingClientRect(),a=i?s.top:s.top-n,o=i?s.bottom:s.bottom+n;return a<=0?"below":o>=window.innerHeight?"above":i?t:"below"},t.debounce=function(e,t,i){var n;return void 0===t&&(t=100),void 0===i&&(i=!1),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var o=self,r=i&&!n;clearTimeout(n),n=setTimeout((function(){n=null,i||e.apply(o,s)}),t),r&&e.apply(o,s)}},t.isValueInArrayOfObjects=function(e,t,i){if(!Array.isArray(e))return e[t]===i;for(var n=0,s=e;n<s.length;n++){var a=s[n];if(a&&a[t]&&a[t]===i)return!0}return!1},t.highlight=function(e,t,i){var n=e,s=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(s))return e;var a=e.match(s).index,o=a+e.match(s)[0].toString().length,r=e.substring(a,o);return n.replace(s,'<mark class="'+i+'">'+r+"</mark>")},t.kebabCase=function(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(e){return"-"+e.toLowerCase()}));return e[0]===e[0].toUpperCase()?t.substring(1):t},"function"!=typeof(s=window).CustomEvent&&(n.prototype=s.Event.prototype,s.CustomEvent=n)},function(e,t,i){"use strict";t.__esModule=!0;var n=(s.prototype.newOption=function(e){return{id:e.id?e.id:String(Math.floor(1e8*Math.random())),value:e.value?e.value:"",text:e.text?e.text:"",innerHTML:e.innerHTML?e.innerHTML:"",selected:!!e.selected&&e.selected,display:void 0===e.display||e.display,disabled:!!e.disabled&&e.disabled,placeholder:!!e.placeholder&&e.placeholder,class:e.class?e.class:void 0,data:e.data?e.data:{},mandatory:!!e.mandatory&&e.mandatory}},s.prototype.add=function(e){this.data.push({id:String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:e.mandatory,data:{}})},s.prototype.parseSelectData=function(){this.data=[];for(var e=0,t=this.main.select.element.childNodes;e<t.length;e++){var i=t[e];if("OPTGROUP"===i.nodeName){for(var n={label:i.label,options:[]},s=0,a=i.childNodes;s<a.length;s++){var o=a[s];if("OPTION"===o.nodeName){var r=this.pullOptionData(o);n.options.push(r),r.placeholder&&""!==r.text.trim()&&(this.main.config.placeholderText=r.text)}}this.data.push(n)}else"OPTION"===i.nodeName&&(r=this.pullOptionData(i),this.data.push(r),r.placeholder&&""!==r.text.trim()&&(this.main.config.placeholderText=r.text))}},s.prototype.pullOptionData=function(e){return{id:!!e.dataset&&e.dataset.id||String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:e.innerHTML,selected:e.selected,disabled:e.disabled,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset,mandatory:!!e.dataset&&"true"===e.dataset.mandatory}},s.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var e=[],t=0,i=this.main.select.element.options;t<i.length;t++){var n=i[t];if(n.selected){var s=this.getObjectFromData(n.value,"value");s&&s.id&&e.push(s.id)}}this.setSelected(e,"id")}else{var a=this.main.select.element;if(-1!==a.selectedIndex){var o=a.options[a.selectedIndex].value;this.setSelected(o,"value")}}},s.prototype.setSelected=function(e,t){void 0===t&&(t="id");for(var i=0,n=this.data;i<n.length;i++){var s=n[i];if(s.hasOwnProperty("label")){if(s.hasOwnProperty("options")){var a=s.options;if(a)for(var o=0,r=a;o<r.length;o++){var l=r[o];l.placeholder||(l.selected=this.shouldBeSelected(l,e,t))}}}else s.selected=this.shouldBeSelected(s,e,t)}},s.prototype.shouldBeSelected=function(e,t,i){if(void 0===i&&(i="id"),Array.isArray(t))for(var n=0,s=t;n<s.length;n++){var a=s[n];if(i in e&&String(e[i])===String(a))return!0}else if(i in e&&String(e[i])===String(t))return!0;return!1},s.prototype.getSelected=function(){for(var e={text:"",placeholder:this.main.config.placeholderText},t=[],i=0,n=this.data;i<n.length;i++){var s=n[i];if(s.hasOwnProperty("label")){if(s.hasOwnProperty("options")){var a=s.options;if(a)for(var o=0,r=a;o<r.length;o++){var l=r[o];l.selected&&(this.main.config.isMultiple?t.push(l):e=l)}}}else s.selected&&(this.main.config.isMultiple?t.push(s):e=s)}return this.main.config.isMultiple?t:e},s.prototype.addToSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){var i=[],n=this.getSelected();if(Array.isArray(n))for(var s=0,a=n;s<a.length;s++){var o=a[s];i.push(o[t])}i.push(e),this.setSelected(i,t)}},s.prototype.removeFromSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){for(var i=[],n=0,s=this.getSelected();n<s.length;n++){var a=s[n];String(a[t])!==String(e)&&i.push(a[t])}this.setSelected(i,t)}},s.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},s.prototype.getObjectFromData=function(e,t){void 0===t&&(t="id");for(var i=0,n=this.data;i<n.length;i++){var s=n[i];if(t in s&&String(s[t])===String(e))return s;if(s.hasOwnProperty("options")&&s.options)for(var a=0,o=s.options;a<o.length;a++){var r=o[a];if(String(r[t])===String(e))return r}}return null},s.prototype.search=function(e){if(""!==(this.searchValue=e).trim()){var t=this.main.config.searchFilter,i=this.data.slice(0);e=e.trim();var n=i.map((function(i){if(i.hasOwnProperty("options")){var n=i,s=[];if(n.options&&(s=n.options.filter((function(i){return t(i,e)}))),0!==s.length){var a=Object.assign({},n);return a.options=s,a}}return i.hasOwnProperty("text")&&t(i,e)?i:null}));this.filtered=n.filter((function(e){return e}))}else this.filtered=null},s);function s(e){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=e.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function a(e){return void 0!==e.text||!1}t.Data=n,t.validateData=function(e){if(!e)return!1;for(var t=0,i=0,n=e;i<n.length;i++){var s=n[i];if(s.hasOwnProperty("label")){if(s.hasOwnProperty("options")){var o=s.options;if(o)for(var r=0,l=o;r<l.length;r++)a(l[r])||t++}}else a(s)||t++}return 0===t},t.validateOption=a},function(e,t,i){"use strict";t.__esModule=!0;var n=i(3),s=i(4),a=i(5),o=i(1),r=i(0),l=(c.prototype.validate=function(e){var t="string"==typeof e.select?document.querySelector(e.select):e.select;if(!t)throw new Error("Could not find select element");if("SELECT"!==t.tagName)throw new Error("Element isnt of type select");return t},c.prototype.selected=function(){if(this.config.isMultiple){for(var e=[],t=0,i=s=this.data.getSelected();t<i.length;t++){var n=i[t];e.push(n.value)}return e}var s;return(s=this.data.getSelected())?s.value:""},c.prototype.set=function(e,t,i,n){void 0===t&&(t="value"),void 0===i&&(i=!0),void 0===n&&(n=!0),this.config.isMultiple&&!Array.isArray(e)?this.data.addToSelected(e,t):this.data.setSelected(e,t),this.select.setValue(),this.data.onDataChange(),this.render(),i&&this.close()},c.prototype.setSelected=function(e,t,i,n){void 0===t&&(t="value"),void 0===i&&(i=!0),void 0===n&&(n=!0),this.set(e,t,i,n)},c.prototype.setData=function(e){if(o.validateData(e)){var t=JSON.parse(JSON.stringify(e)),i=this.data.getSelected();if(this.config.isAjax&&i)if(this.config.isMultiple)for(var n=0,s=i.reverse();n<s.length;n++){var a=s[n];t.unshift(a)}else t.unshift(this.data.getSelected()),t.unshift({text:"",placeholder:!0});this.select.create(t),this.data.parseSelectData(),this.data.setSelectedFromSelect()}},c.prototype.addData=function(e){o.validateData([e])&&(this.data.add(this.data.newOption(e)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render())},c.prototype.open=function(){var e=this;if(this.config.isEnabled&&!this.data.contentOpen){if(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add("above"===this.data.contentPosition?this.config.openAbove:this.config.openBelow),this.config.addToBody){var t=this.slim.container.getBoundingClientRect();this.slim.content.style.top=t.top+t.height+window.scrollY+"px",this.slim.content.style.left=t.left+window.scrollX+"px",this.slim.content.style.width=t.width+"px"}if(this.slim.content.classList.add(this.config.open),"up"===this.config.showContent.toLowerCase()||"down"!==this.config.showContent.toLowerCase()&&"above"===r.putContent(this.slim.content,this.data.contentPosition,this.data.contentOpen)?this.moveContentAbove():this.moveContentBelow(),!this.config.isMultiple){var i=this.data.getSelected();if(i){var n=i.id,s=this.slim.list.querySelector('[data-id="'+n+'"]');s&&r.ensureElementInView(this.slim.list,s)}}setTimeout((function(){e.data.contentOpen=!0,e.config.searchFocus&&e.slim.search.input.focus(),e.afterOpen&&e.afterOpen()}),this.config.timeoutDelay)}},c.prototype.close=function(){var e=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout((function(){e.slim.content.removeAttribute("style"),e.data.contentPosition="below",e.config.isMultiple&&e.slim.multiSelected?(e.slim.multiSelected.container.classList.remove(e.config.openAbove),e.slim.multiSelected.container.classList.remove(e.config.openBelow)):e.slim.singleSelected&&(e.slim.singleSelected.container.classList.remove(e.config.openAbove),e.slim.singleSelected.container.classList.remove(e.config.openBelow)),e.slim.search.input.blur(),e.afterClose&&e.afterClose()}),this.config.timeoutDelay))},c.prototype.moveContentAbove=function(){var e=0;this.config.isMultiple&&this.slim.multiSelected?e=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(e=this.slim.singleSelected.container.offsetHeight);var t=e+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+t+"px 0 0 0",this.slim.content.style.height=t-e+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},c.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},c.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},c.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},c.prototype.search=function(e){if(this.data.searchValue!==e)if(this.slim.search.input.value=e,this.config.isAjax){var t=this;this.config.isSearching=!0,this.render(),this.ajax&&this.ajax(e,(function(i){t.config.isSearching=!1,Array.isArray(i)?(i.unshift({text:"",placeholder:!0}),t.setData(i),t.data.search(e),t.render()):"string"==typeof i?t.slim.options(i):t.render()}))}else this.data.search(e),this.render()},c.prototype.setSearchText=function(e){this.config.searchText=e},c.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},c.prototype.destroy=function(e){void 0===e&&(e=null);var t=e?document.querySelector("."+e+".ss-main"):this.slim.container,i=e?document.querySelector("[data-ssid="+e+"]"):this.select.element;if(t&&i&&(i.style.display="",delete i.dataset.ssid,i.slim=null,t.parentElement&&t.parentElement.removeChild(t),this.config.addToBody)){var n=e?document.querySelector("."+e+".ss-content"):this.slim.content;if(!n)return;document.body.removeChild(n)}},c);function c(e){var t=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null;var i=this.validate(e);i.dataset.ssid&&this.destroy(i.dataset.ssid),e.ajax&&(this.ajax=e.ajax),e.addable&&(this.addable=e.addable),this.config=new n.Config({select:i,isAjax:!!e.ajax,showSearch:e.showSearch,searchPlaceholder:e.searchPlaceholder,searchText:e.searchText,searchingText:e.searchingText,searchFocus:e.searchFocus,searchHighlight:e.searchHighlight,searchFilter:e.searchFilter,closeOnSelect:e.closeOnSelect,showContent:e.showContent,placeholderText:e.placeholder,allowDeselect:e.allowDeselect,allowDeselectOption:e.allowDeselectOption,hideSelectedOption:e.hideSelectedOption,deselectLabel:e.deselectLabel,isEnabled:e.isEnabled,valuesUseText:e.valuesUseText,showOptionTooltips:e.showOptionTooltips,selectByGroup:e.selectByGroup,limit:e.limit,timeoutDelay:e.timeoutDelay,addToBody:e.addToBody}),this.select=new s.Select({select:i,main:this}),this.data=new o.Data({main:this}),this.slim=new a.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),e.data?this.setData(e.data):this.render(),document.addEventListener("click",(function(e){e.target&&!r.hasClassInTree(e.target,t.config.id)&&t.close()})),"auto"===this.config.showContent&&window.addEventListener("scroll",r.debounce((function(e){t.data.contentOpen&&("above"===r.putContent(t.slim.content,t.data.contentPosition,t.data.contentOpen)?t.moveContentAbove():t.moveContentBelow())})),!1),e.beforeOnChange&&(this.beforeOnChange=e.beforeOnChange),e.onChange&&(this.onChange=e.onChange),e.beforeOpen&&(this.beforeOpen=e.beforeOpen),e.afterOpen&&(this.afterOpen=e.afterOpen),e.beforeClose&&(this.beforeClose=e.beforeClose),e.afterClose&&(this.afterClose=e.afterClose),this.config.isEnabled||this.disable()}t.default=l},function(e,t,i){"use strict";t.__esModule=!0;var n=(s.prototype.searchFilter=function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},s);function s(e){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=e.select.style.cssText,this.class=e.select.className.split(" "),this.isMultiple=e.select.multiple,this.isAjax=e.isAjax,this.showSearch=!1!==e.showSearch,this.searchFocus=!1!==e.searchFocus,this.searchHighlight=!0===e.searchHighlight,this.closeOnSelect=!1!==e.closeOnSelect,e.showContent&&(this.showContent=e.showContent),this.isEnabled=!1!==e.isEnabled,e.searchPlaceholder&&(this.searchPlaceholder=e.searchPlaceholder),e.searchText&&(this.searchText=e.searchText),e.searchingText&&(this.searchingText=e.searchingText),e.placeholderText&&(this.placeholderText=e.placeholderText),this.allowDeselect=!0===e.allowDeselect,this.allowDeselectOption=!0===e.allowDeselectOption,this.hideSelectedOption=!0===e.hideSelectedOption,e.deselectLabel&&(this.deselectLabel=e.deselectLabel),e.valuesUseText&&(this.valuesUseText=e.valuesUseText),e.showOptionTooltips&&(this.showOptionTooltips=e.showOptionTooltips),e.selectByGroup&&(this.selectByGroup=e.selectByGroup),e.limit&&(this.limit=e.limit),e.searchFilter&&(this.searchFilter=e.searchFilter),null!=e.timeoutDelay&&(this.timeoutDelay=e.timeoutDelay),this.addToBody=!0===e.addToBody}t.Config=n},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),s=(a.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var e=this.main.data.getSelected(),t=0,i=this.element.options;t<i.length;t++){var n=i[t];n.selected=!1;for(var s=0,a=e;s<a.length;s++)a[s].value===n.value&&(n.selected=!0)}else e=this.main.data.getSelected(),this.element.value=e?e.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},a.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id},a.prototype.addEventListeners=function(){var e=this;this.element.addEventListener("change",(function(t){e.main.data.setSelectedFromSelect(),e.main.render()}))},a.prototype.addMutationObserver=function(){var e=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver((function(t){e.triggerMutationObserver&&(e.main.data.parseSelectData(),e.main.data.setSelectedFromSelect(),e.main.render(),t.forEach((function(t){"class"===t.attributeName&&e.main.slim.updateContainerDivClass(e.main.slim.container)})))})),this.observeMutationObserver())},a.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},a.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},a.prototype.create=function(e){this.element.innerHTML="";for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n.hasOwnProperty("options")){var s=n,a=document.createElement("optgroup");if(a.label=s.label,s.options)for(var o=0,r=s.options;o<r.length;o++){var l=r[o];a.appendChild(this.createOption(l))}this.element.appendChild(a)}else this.element.appendChild(this.createOption(n))}},a.prototype.createOption=function(e){var t=document.createElement("option");return t.value=""!==e.value?e.value:e.text,t.innerHTML=e.innerHTML||e.text,e.selected&&(t.selected=e.selected),!1===e.display&&(t.style.display="none"),e.disabled&&(t.disabled=!0),e.placeholder&&t.setAttribute("data-placeholder","true"),e.mandatory&&t.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((function(e){t.classList.add(e)})),e.data&&"object"==typeof e.data&&Object.keys(e.data).forEach((function(i){t.setAttribute("data-"+n.kebabCase(i),e.data[i])})),t},a);function a(e){this.triggerMutationObserver=!0,this.element=e.select,this.main=e.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=e.main}t.Select=s},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),s=i(1),a=(o.prototype.containerDiv=function(){var e=document.createElement("div");return e.style.cssText=this.main.config.style,this.updateContainerDivClass(e),e},o.prototype.updateContainerDivClass=function(e){this.main.config.class=this.main.select.element.className.split(" "),e.className="",e.classList.add(this.main.config.id),e.classList.add(this.main.config.main);for(var t=0,i=this.main.config.class;t<i.length;t++){var n=i[t];""!==n.trim()&&e.classList.add(n)}},o.prototype.singleSelectedDiv=function(){var e=this,t=document.createElement("div");t.classList.add(this.main.config.singleSelected);var i=document.createElement("span");i.classList.add("placeholder"),t.appendChild(i);var n=document.createElement("span");n.innerHTML=this.main.config.deselectLabel,n.classList.add("ss-deselect"),n.onclick=function(t){t.stopPropagation(),e.main.config.isEnabled&&e.main.set("")},t.appendChild(n);var s=document.createElement("span");s.classList.add(this.main.config.arrow);var a=document.createElement("span");return a.classList.add("arrow-down"),s.appendChild(a),t.appendChild(s),t.onclick=function(){e.main.config.isEnabled&&(e.main.data.contentOpen?e.main.close():e.main.open())},{container:t,placeholder:i,deselect:n,arrowIcon:{container:s,arrow:a}}},o.prototype.placeholder=function(){var e=this.main.data.getSelected();if(null===e||e&&e.placeholder){var t=document.createElement("span");t.classList.add(this.main.config.disabled),t.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=t.outerHTML)}else{var i="";e&&(i=e.innerHTML&&!0!==this.main.config.valuesUseText?e.innerHTML:e.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=e?i:"")}},o.prototype.deselect=function(){if(this.singleSelected){if(!this.main.config.allowDeselect)return void this.singleSelected.deselect.classList.add("ss-hide");""===this.main.selected()?this.singleSelected.deselect.classList.add("ss-hide"):this.singleSelected.deselect.classList.remove("ss-hide")}},o.prototype.multiSelectedDiv=function(){var e=this,t=document.createElement("div");t.classList.add(this.main.config.multiSelected);var i=document.createElement("div");i.classList.add(this.main.config.values),t.appendChild(i);var n=document.createElement("div");n.classList.add(this.main.config.add);var s=document.createElement("span");return s.classList.add(this.main.config.plus),s.onclick=function(t){e.main.data.contentOpen&&(e.main.close(),t.stopPropagation())},n.appendChild(s),t.appendChild(n),t.onclick=function(t){e.main.config.isEnabled&&(t.target.classList.contains(e.main.config.valueDelete)||(e.main.data.contentOpen?e.main.close():e.main.open()))},{container:t,values:i,add:n,plus:s}},o.prototype.values=function(){if(this.multiSelected){for(var e,t=this.multiSelected.values.childNodes,i=this.main.data.getSelected(),n=[],s=0,a=t;s<a.length;s++){var o=a[s];e=!0;for(var r=0,l=i;r<l.length;r++){var c=l[r];String(c.id)===String(o.dataset.id)&&(e=!1)}e&&n.push(o)}for(var d=0,u=n;d<u.length;d++){var p=u[d];p.classList.add("ss-out"),this.multiSelected.values.removeChild(p)}for(t=this.multiSelected.values.childNodes,c=0;c<i.length;c++){e=!1;for(var h=0,m=t;h<m.length;h++)o=m[h],String(i[c].id)===String(o.dataset.id)&&(e=!0);e||(0!==t.length&&HTMLElement.prototype.insertAdjacentElement?0===c?this.multiSelected.values.insertBefore(this.valueDiv(i[c]),t[c]):t[c-1].insertAdjacentElement("afterend",this.valueDiv(i[c])):this.multiSelected.values.appendChild(this.valueDiv(i[c])))}if(0===i.length){var f=document.createElement("span");f.classList.add(this.main.config.disabled),f.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=f.outerHTML}}},o.prototype.valueDiv=function(e){var t=this,i=document.createElement("div");i.classList.add(this.main.config.value),i.dataset.id=e.id;var n=document.createElement("span");if(n.classList.add(this.main.config.valueText),n.innerHTML=e.innerHTML&&!0!==this.main.config.valuesUseText?e.innerHTML:e.text,i.appendChild(n),!e.mandatory){var s=document.createElement("span");s.classList.add(this.main.config.valueDelete),s.innerHTML=this.main.config.deselectLabel,s.onclick=function(i){i.preventDefault(),i.stopPropagation();var n=!1;if(t.main.beforeOnChange||(n=!0),t.main.beforeOnChange){for(var s=t.main.data.getSelected(),a=JSON.parse(JSON.stringify(s)),o=0;o<a.length;o++)a[o].id===e.id&&a.splice(o,1);!1!==t.main.beforeOnChange(a)&&(n=!0)}n&&(t.main.data.removeFromSelected(e.id,"id"),t.main.render(),t.main.select.setValue(),t.main.data.onDataChange())},i.appendChild(s)}return i},o.prototype.contentDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.content),e},o.prototype.searchDiv=function(){var e=this,t=document.createElement("div"),i=document.createElement("input"),n=document.createElement("div");t.classList.add(this.main.config.search);var a={container:t,input:i};return this.main.config.showSearch||(t.classList.add(this.main.config.hide),i.readOnly=!0),i.type="search",i.placeholder=this.main.config.searchPlaceholder,i.tabIndex=0,i.setAttribute("aria-label",this.main.config.searchPlaceholder),i.setAttribute("autocapitalize","off"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.onclick=function(t){setTimeout((function(){""===t.target.value&&e.main.search("")}),10)},i.onkeydown=function(t){"ArrowUp"===t.key?(e.main.open(),e.highlightUp(),t.preventDefault()):"ArrowDown"===t.key?(e.main.open(),e.highlightDown(),t.preventDefault()):"Tab"===t.key?e.main.data.contentOpen?e.main.close():setTimeout((function(){e.main.close()}),e.main.config.timeoutDelay):"Enter"===t.key&&t.preventDefault()},i.onkeyup=function(t){var s=t.target;if("Enter"===t.key){if(e.main.addable&&t.ctrlKey)return n.click(),t.preventDefault(),void t.stopPropagation();var a=e.list.querySelector("."+e.main.config.highlighted);a&&a.click()}else"ArrowUp"===t.key||"ArrowDown"===t.key||("Escape"===t.key?e.main.close():e.main.config.showSearch&&e.main.data.contentOpen?e.main.search(s.value):i.value="");t.preventDefault(),t.stopPropagation()},i.onfocus=function(){e.main.open()},t.appendChild(i),this.main.addable&&(n.classList.add(this.main.config.addable),n.innerHTML="+",n.onclick=function(t){if(e.main.addable){t.preventDefault(),t.stopPropagation();var i=e.search.input.value;if(""===i.trim())return void e.search.input.focus();var n=e.main.addable(i),a="";if(!n)return;"object"==typeof n?s.validateOption(n)&&(e.main.addData(n),a=n.value?n.value:n.text):(e.main.addData(e.main.data.newOption({text:n,value:n})),a=n),e.main.search(""),setTimeout((function(){e.main.set(a,"value",!1,!1)}),100),e.main.config.closeOnSelect&&setTimeout((function(){e.main.close()}),100)}},t.appendChild(n),a.addable=n),a},o.prototype.highlightUp=function(){var e=this.list.querySelector("."+this.main.config.highlighted),t=null;if(e)for(t=e.previousSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.previousSibling;else{var i=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");t=i[i.length-1]}if(t&&t.classList.contains(this.main.config.optgroupLabel)&&(t=null),null===t){var s=e.parentNode;if(s.classList.contains(this.main.config.optgroup)&&s.previousSibling){var a=s.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");a.length&&(t=a[a.length-1])}}t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),n.ensureElementInView(this.list,t))},o.prototype.highlightDown=function(){var e=this.list.querySelector("."+this.main.config.highlighted),t=null;if(e)for(t=e.nextSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.nextSibling;else t=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");if(null===t&&null!==e){var i=e.parentNode;i.classList.contains(this.main.config.optgroup)&&i.nextSibling&&(t=i.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")"))}t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),n.ensureElementInView(this.list,t))},o.prototype.listDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.list),e},o.prototype.options=function(e){void 0===e&&(e="");var t,i=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==e)return(t=document.createElement("div")).classList.add(this.main.config.option),t.classList.add(this.main.config.disabled),t.innerHTML=e,void this.list.appendChild(t);if(this.main.config.isAjax&&this.main.config.isSearching)return(t=document.createElement("div")).classList.add(this.main.config.option),t.classList.add(this.main.config.disabled),t.innerHTML=this.main.config.searchingText,void this.list.appendChild(t);if(0===i.length){var n=document.createElement("div");return n.classList.add(this.main.config.option),n.classList.add(this.main.config.disabled),n.innerHTML=this.main.config.searchText,void this.list.appendChild(n)}for(var s=function(e){if(e.hasOwnProperty("label")){var t=e,i=document.createElement("div");i.classList.add(a.main.config.optgroup);var n=document.createElement("div");n.classList.add(a.main.config.optgroupLabel),a.main.config.selectByGroup&&a.main.config.isMultiple&&n.classList.add(a.main.config.optgroupLabelSelectable),n.innerHTML=t.label,i.appendChild(n);var s=t.options;if(s){for(var o=0,r=s;o<r.length;o++){var l=r[o];i.appendChild(a.option(l))}if(a.main.config.selectByGroup&&a.main.config.isMultiple){var c=a;n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();for(var t=0,n=i.children;t<n.length;t++){var s=n[t];-1!==s.className.indexOf(c.main.config.option)&&s.click()}}))}}a.list.appendChild(i)}else a.list.appendChild(a.option(e))},a=this,o=0,r=i;o<r.length;o++)s(r[o])},o.prototype.option=function(e){if(e.placeholder){var t=document.createElement("div");return t.classList.add(this.main.config.option),t.classList.add(this.main.config.hide),t}var i=document.createElement("div");i.classList.add(this.main.config.option),e.class&&e.class.split(" ").forEach((function(e){i.classList.add(e)})),e.style&&(i.style.cssText=e.style);var s=this.main.data.getSelected();i.dataset.id=e.id,this.main.config.searchHighlight&&this.main.slim&&e.innerHTML&&""!==this.main.slim.search.input.value.trim()?i.innerHTML=n.highlight(e.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):e.innerHTML&&(i.innerHTML=e.innerHTML),this.main.config.showOptionTooltips&&i.textContent&&i.setAttribute("title",i.textContent);var a=this;i.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var i=this.dataset.id;if(!0===e.selected&&a.main.config.allowDeselectOption){var n=!1;if(a.main.beforeOnChange&&a.main.config.isMultiple||(n=!0),a.main.beforeOnChange&&a.main.config.isMultiple){for(var o=a.main.data.getSelected(),r=JSON.parse(JSON.stringify(o)),l=0;l<r.length;l++)r[l].id===i&&r.splice(l,1);!1!==a.main.beforeOnChange(r)&&(n=!0)}n&&(a.main.config.isMultiple?(a.main.data.removeFromSelected(i,"id"),a.main.render(),a.main.select.setValue(),a.main.data.onDataChange()):a.main.set(""))}else{if(e.disabled||e.selected)return;if(a.main.config.limit&&Array.isArray(s)&&a.main.config.limit<=s.length)return;if(a.main.beforeOnChange){var c=void 0,d=JSON.parse(JSON.stringify(a.main.data.getObjectFromData(i)));d.selected=!0,a.main.config.isMultiple?(c=JSON.parse(JSON.stringify(s))).push(d):c=JSON.parse(JSON.stringify(d)),!1!==a.main.beforeOnChange(c)&&a.main.set(i,"id",a.main.config.closeOnSelect)}else a.main.set(i,"id",a.main.config.closeOnSelect)}}));var o=s&&n.isValueInArrayOfObjects(s,"id",e.id);return(e.disabled||o)&&(i.onclick=null,a.main.config.allowDeselectOption||i.classList.add(this.main.config.disabled),a.main.config.hideSelectedOption&&i.classList.add(this.main.config.hide)),o?i.classList.add(this.main.config.optionSelected):i.classList.remove(this.main.config.optionSelected),i},o);function o(e){this.main=e.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}t.Slim=a}],e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(n,s,function(e){return t[e]}.bind(null,s));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=2).default;function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var t,i}()},"./src/crawler.ts":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}l((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=i("./src/utilities/jsonRequest.ts"),o=i("./src/utilities/string.ts");function r(e){return n(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return"https://wiki.openstreetmap.org/w/api.php",e.origin="*",e.action="query",e.formatversion="2",e.format="json",[4,a.getJson("https://wiki.openstreetmap.org/w/api.php",e)];case 1:return[2,t.sent()]}}))}))}function l(e,t){return n(this,void 0,void 0,(function(){var i,n,a,o,l,d,u,p;return s(this,(function(s){switch(s.label){case 0:return[4,r({prop:"revisions",rvprop:"content",pageids:e.join("|"),rvslots:"*"})];case 1:for(o in i=s.sent(),n=i.query.pages,a=[],n){for(l=n[o].revisions[0].slots.main.content,d=c(l,t),u=0,p=d;u<p.length;u++)p[u].sourceWiki=n[o].title;a.push.apply(a,d)}return[2,a]}}))}))}function c(e,t){var i=[];e=e.replace(/(<!--.*?-->)|(<!--[\w\W\n\s]+?-->)/g,"");for(var n=new RegExp("{{"+t.replace(" ","[_ ]"),"gi"),s=e.search(n);-1!==s;){var a=e.substring(s),r=o.findClosingBracketIndex(a,0);e=a.substring(r+1),a=(a=a.substring(0,r+1)).substring(a.indexOf("|"),a.length-2).trim(),i.push(d(a)),s=e.search(n)}return i}function d(e){var t={},i=e.split(/\|(?![^{]*})(?![^\[]*\])/g);for(var n in i.shift(),i){var s=i[n].trim(),a=s.indexOf("="),o=s.substring(0,a).trim(),r=s.substring(a+1).trim();r&&(t[o]=r)}return t}t.requestTemplates=function(e,t){var i;return n(this,void 0,void 0,(function(){var a,c,d,u,p,h,m;return s(this,(function(f){switch(f.label){case 0:a=[],f.label=1;case 1:return d={list:"embeddedin",eititle:"Template:"+e,eilimit:"500"},c&&(d.eicontinue=c),[4,r(d)];case 2:return u=f.sent(),h=(p=a.push).apply,m=[a],[4,function(e,t,i){return n(this,void 0,void 0,(function(){var n,a,r,c,d,u,p,h,m,f,g,y,v;return s(this,(function(s){switch(s.label){case 0:for(d in n=e.query.embeddedin,a=[],r=[],c=[],n)c.push(d);u=0,s.label=1;case 1:return u<c.length?(p=c[u],o.equalsIgnoreCase(i,"en")?/^(af|ast|az|id|ms|bs|br|ca|cs|da|de|et|en|es|eo|eu|fr|fy|gl|hr|ia|is|it|ht|gcf|ku|lv|lb|lt|hu|nl|no|nn|oc|pl|pt|ro|sq|sk|sl|sr-latn|fi|sv|tl|vi|tr|diq|el|be|bg|mk|mn|ru|sr|uk|hy|he|ar|fa|ps|ne|bn|ta|ml|si|th|my|ka|ko|tzm|zh-hans|zh-hant|ja|yue):/gi.test(n[p].title)||r.push(n[p].pageid):new RegExp("^"+i+":","ig").test(n[p].title)&&r.push(n[p].pageid),r.length>=50?(m=(h=a.push).apply,f=[a],[4,l(r,t)]):[3,3]):[3,4];case 2:m.apply(h,f.concat([s.sent()])),r=[],s.label=3;case 3:return u++,[3,1];case 4:return r.length>0?(y=(g=a.push).apply,v=[a],[4,l(r,t)]):[3,6];case 5:y.apply(g,v.concat([s.sent()])),s.label=6;case 6:return[2,a]}}))}))}(u,e,t)];case 3:h.apply(p,m.concat([f.sent()])),c=null===(i=u.continue)||void 0===i?void 0:i.eicontinue,f.label=4;case 4:if(c)return[3,1];f.label=5;case 5:return[2,a]}}))}))}},"./src/language.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/utilities/string.ts"),s=[{code:"aa",display:"Afar"},{code:"ab",display:"Аҧсуа"},{code:"af",display:"Afrikaans"},{code:"ak",display:"Akana"},{code:"als",display:"Alemannisch"},{code:"am",display:"አማርኛ"},{code:"an",display:"Aragonés"},{code:"ang",display:"Angal Heneng"},{code:"ang",display:"Englisc"},{code:"ar",display:"العربية"},{code:"arc",display:"ܣܘܪܬ"},{code:"as",display:"অসমীয়া"},{code:"ast",display:"Asturianu"},{code:"av",display:"Авар"},{code:"awa",display:"Awadhi"},{code:"ay",display:"Aymar"},{code:"az",display:"Azərbaycanca / آذربايجان"},{code:"ba",display:"Башҡорт"},{code:"bar",display:"Boarisch"},{code:"bat-smg",display:"Žemaitėška"},{code:"bcl",display:"Bikol Central"},{code:"be",display:"Беларуская"},{code:"be-x-old",display:"Беларуская (тарашкевіца)"},{code:"bg",display:"Български"},{code:"bh",display:"भोजपुरी"},{code:"bi",display:"Bislama"},{code:"bm",display:"Bamanankan"},{code:"bn",display:"বাংলা"},{code:"bo",display:"བོད་ཡིག / Bod skad"},{code:"bpy",display:"ইমার ঠার/বিষ্ণুপ্রিয়া মণিপুরী"},{code:"br",display:"Brezhoneg"},{code:"bs",display:"Bosanski"},{code:"bug",display:"ᨅᨔ ᨕᨘᨁᨗ / Basa Ugi"},{code:"bxr",display:"Буряад хэлэн"},{code:"ca",display:"Català"},{code:"cdo",display:"Mìng-dĕ̤ng-ngṳ̄ / 閩東語"},{code:"ce",display:"Нохчийн"},{code:"ceb",display:"Sinugboanong Binisaya"},{code:"ch",display:"Chamoru"},{code:"cho",display:"Choctaw"},{code:"chr",display:"ᏣᎳᎩ"},{code:"chy",display:"Tsetsêhestâhese"},{code:"closed-zh-tw",display:"‪中文(台灣)‬"},{code:"co",display:"Corsu"},{code:"cr",display:"Nehiyaw"},{code:"cs",display:"Česky"},{code:"csb",display:"Kaszëbsczi"},{code:"cu",display:"словѣньскъ / slověnĭskŭ"},{code:"cv",display:"Чăваш"},{code:"cy",display:"Cymraeg"},{code:"da",display:"Dansk"},{code:"de",display:"Deutsch"},{code:"diq",display:"Zazaki"},{code:"dsb",display:"Dolnoserbski"},{code:"dv",display:"ދިވެހިބަސް"},{code:"dz",display:"ཇོང་ཁ"},{code:"ee",display:"Ɛʋɛ"},{code:"el",display:"Ελληνικά"},{code:"en",display:"English"},{code:"eo",display:"Esperanto"},{code:"es",display:"Español"},{code:"et",display:"Eesti"},{code:"eu",display:"Euskara"},{code:"ext",display:"Estremeñu"},{code:"fa",display:"فارسی"},{code:"ff",display:"Fulfulde"},{code:"fi",display:"Suomi"},{code:"fiu-vro",display:"Võro"},{code:"fj",display:"Na Vosa Vakaviti"},{code:"fo",display:"Føroyskt"},{code:"fr",display:"Français"},{code:"frp",display:"Arpitan / francoprovençal"},{code:"fur",display:"Furlan"},{code:"fy",display:"Frysk"},{code:"ga",display:"Gaeilge"},{code:"gan",display:"贛語"},{code:"gbm",display:"गढ़वळी"},{code:"gcf",display:"Kréyòl gwadloupéyen"},{code:"gd",display:"Gàidhlig"},{code:"gil",display:"Taetae ni kiribati"},{code:"gl",display:"Galego"},{code:"gn",display:"Avañe'ẽ"},{code:"got",display:"gutisk"},{code:"gu",display:"ગુજરાતી"},{code:"gv",display:"Gaelg"},{code:"ha",display:"هَوُسَ"},{code:"hak",display:"客家語/Hak-kâ-ngî"},{code:"haw",display:"Hawai`i"},{code:"he",display:"עברית"},{code:"hi",display:"हिन्दी"},{code:"ho",display:"Hiri Motu"},{code:"hr",display:"Hrvatski"},{code:"ht",display:"Krèyol ayisyen"},{code:"hu",display:"Magyar"},{code:"hy",display:"Հայերեն"},{code:"hz",display:"Otsiherero"},{code:"ia",display:"Interlingua"},{code:"id",display:"Bahasa Indonesia"},{code:"ie",display:"Interlingue"},{code:"ig",display:"Igbo"},{code:"ii",display:"ꆇꉙ / 四川彝语"},{code:"ik",display:"Iñupiak"},{code:"ilo",display:"Ilokano"},{code:"inh",display:"ГӀалгӀай"},{code:"io",display:"Ido"},{code:"is",display:"Íslenska"},{code:"it",display:"Italiano"},{code:"iu",display:"ᐃᓄᒃᑎᑐᑦ"},{code:"ja",display:"日本語"},{code:"jbo",display:"Lojban"},{code:"jv",display:"Basa Jawa"},{code:"ka",display:"ქართული"},{code:"kg",display:"KiKongo"},{code:"khw",display:"کھوار"},{code:"ki",display:"Gĩkũyũ"},{code:"kj",display:"Kuanyama"},{code:"kk",display:"Қазақша"},{code:"kl",display:"Kalaallisut"},{code:"km",display:"ភាសាខ្មែរ"},{code:"kn",display:"ಕನ್ನಡ"},{code:"ko",display:"한국어"},{code:"kr",display:"Kanuri"},{code:"ks",display:"कश्मीरी / كشميري"},{code:"ksh",display:"Ripoarisch"},{code:"ku",display:"Kurdî / كوردی"},{code:"kv",display:"Коми"},{code:"kw",display:"Kernewek"},{code:"ky",display:"Kırgızca / Кыргызча"},{code:"la",display:"Latina"},{code:"lad",display:"Dzhudezmo / Djudeo-Espanyol"},{code:"lan",display:"Leb Lango / Luo"},{code:"lb",display:"Lëtzebuergesch"},{code:"lg",display:"Luganda"},{code:"li",display:"Limburgs"},{code:"lij",display:"Líguru"},{code:"lmo",display:"Lumbaart"},{code:"ln",display:"Lingála"},{code:"lo",display:"ລາວ / Pha xa lao"},{code:"lt",display:"Lietuvių"},{code:"lv",display:"Latviešu"},{code:"lzz",display:"Lazuri / ლაზური"},{code:"man",display:"官話/官话"},{code:"map-bms",display:"Basa Banyumasan"},{code:"mg",display:"Malagasy"},{code:"mh",display:"Kajin Majel / Ebon"},{code:"mi",display:"Māori"},{code:"min",display:"Minangkabau"},{code:"mk",display:"Македонски"},{code:"ml",display:"മലയാളം"},{code:"mn",display:"Монгол"},{code:"mo",display:"Moldovenească"},{code:"mr",display:"मराठी"},{code:"mrh",display:"Mara"},{code:"ms",display:"Bahasa Melayu"},{code:"mt",display:"bil-Malti"},{code:"mul",display:"Multilingual"},{code:"mus",display:"Mvskoke"},{code:"mwl",display:"Mirandés"},{code:"my",display:"Myanmasa / မြန်မာဘာသာ"},{code:"na",display:"Dorerin Naoero"},{code:"nah",display:"Nahuatl"},{code:"nap",display:"Nnapulitano"},{code:"nb",display:"Norsk (bokmål)"},{code:"nd",display:"Sindebele"},{code:"nds",display:"Plattdüütsch"},{code:"nds-nl",display:"Nedersaksisch"},{code:"ne",display:"नेपाली"},{code:"new",display:"नेपालभाषा / Newah Bhaye"},{code:"ng",display:"Oshiwambo"},{code:"nl",display:"Nederlands"},{code:"nn",display:"Norsk (nynorsk)"},{code:"no",display:"Norsk (bokmål / riksmål)"},{code:"nr",display:"isiNdebele"},{code:"nrm",display:"Nouormand / Normaund"},{code:"nso",display:"Sesotho sa Leboa / Sepedi"},{code:"nv",display:"Diné bizaad"},{code:"ny",display:"Chi-Chewa"},{code:"oc",display:"Occitan"},{code:"oj",display:"ᐊᓂᔑᓈᐯᒧᐎᓐ / Anishinaabemowin"},{code:"om",display:"Oromoo"},{code:"or",display:"ଓଡ଼ିଆ"},{code:"os",display:"Иронау"},{code:"pa",display:"ਪੰਜਾਬੀ / पंजाबी / پنجابي"},{code:"pag",display:"Pangasinan"},{code:"pam",display:"Kapampangan"},{code:"pap",display:"Papiamentu"},{code:"pdc",display:"Deitsch"},{code:"pi",display:"Pāli / पाऴि"},{code:"pih",display:"Norfuk"},{code:"pl",display:"Polski"},{code:"pms",display:"Piemontèis"},{code:"ps",display:"پښتو"},{code:"pt",display:"Português"},{code:"qu",display:"Runa Simi"},{code:"rm",display:"Rumantsch"},{code:"rmy",display:"Romani / रोमानी"},{code:"rn",display:"Kirundi"},{code:"ro",display:"Română"},{code:"roa-rup",display:"Armâneashti"},{code:"ru",display:"Русский"},{code:"rw",display:"Kinyarwandi"},{code:"sa",display:"संस्कृतम्"},{code:"sc",display:"Sardu"},{code:"scn",display:"Sicilianu"},{code:"sco",display:"Scots"},{code:"sd",display:"सिनधि"},{code:"se",display:"Davvisámegiella"},{code:"sg",display:"Sängö"},{code:"sh",display:"Srpskohrvatski / Српскохрватски"},{code:"si",display:"සිංහල"},{code:"simple",display:"Simple English"},{code:"sk",display:"Slovenčina"},{code:"sl",display:"Slovenščina"},{code:"sm",display:"Gagana Samoa"},{code:"sn",display:"chiShona"},{code:"so",display:"Soomaaliga"},{code:"sq",display:"Shqip"},{code:"sr-latn",display:"srpski (latinica)"},{code:"sr",display:"Српски / Srpski"},{code:"ss",display:"SiSwati"},{code:"st",display:"Sesotho"},{code:"su",display:"Basa Sunda"},{code:"sv",display:"Svenska"},{code:"sw",display:"Kiswahili"},{code:"ta",display:"தமிழ்"},{code:"te",display:"తెలుగు"},{code:"tet",display:"Tetun"},{code:"tg",display:"Тоҷикӣ"},{code:"th",display:"ไทย / Phasa Thai"},{code:"ti",display:"ትግርኛ"},{code:"tk",display:"Туркмен / تركمن"},{code:"tl",display:"Tagalog"},{code:"tlh",display:"tlhIngan-Hol"},{code:"tn",display:"Setswana"},{code:"to",display:"Lea Faka-Tonga"},{code:"tokipona",display:"tokipona"},{code:"tpi",display:"Tok Pisin"},{code:"tr",display:"Türkçe"},{code:"ts",display:"Xitsonga"},{code:"tt",display:"Tatarça"},{code:"tum",display:"chiTumbuka"},{code:"tw",display:"Twi"},{code:"ty",display:"Reo Mā`ohi"},{code:"tzm",display:"ⵜⴰⵎⴰⵣⵉⵖⵜ"},{code:"udm",display:"Удмурт кыл"},{code:"ug",display:"Uyƣurqə / ئۇيغۇرچە"},{code:"uk",display:"Українська"},{code:"ur",display:"اردو"},{code:"uz",display:"Ўзбек"},{code:"ve",display:"Tshivenḓa"},{code:"vec",display:"Vèneto"},{code:"vi",display:"Việtnam"},{code:"vls",display:"West-Vlaoms"},{code:"vo",display:"Volapük"},{code:"wa",display:"Walon"},{code:"war",display:"Winaray / Binisaya Lineyte-Samarnon"},{code:"wo",display:"Wollof"},{code:"xal",display:"Хальмг"},{code:"xh",display:"isiXhosa"},{code:"xmf",display:"მარგალური"},{code:"yi",display:"ייִדיש"},{code:"yo",display:"Yorùbá"},{code:"yue",display:"粵語"},{code:"za",display:"Cuengh / Tôô / 壮语"},{code:"zh",display:"中文"},{code:"zh-classical",display:"文言"},{code:"zh-hans",display:"中文 (简体)"},{code:"zh-hant",display:"中文 (繁體)"},{code:"zh-min-nan",display:"Bân-lâm-gú"},{code:"zh-tw",display:"‪中文(台灣)‬"},{code:"zh-yue",display:"粵語 / 粤语"},{code:"zu",display:"isiZulu"}];t.languageValueToDisplay=function(e){for(var t=0,i=s;t<i.length;t++){var a=i[t];if(n.equalsIgnoreCase(a.code,e))return a.display}e=function(e){var t=/(\w+)/g.exec(e);return t?t[1]:e}(e);for(var o=0,r=s;o<r.length;o++)if(a=r[o],n.equalsIgnoreCase(a.code,e))return a.display;return e}},"./src/lazyLoadImages.ts":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}l((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};function a(){return n(this,void 0,void 0,(function(){var e,t,i,a,o,r,l,c;return s(this,(function(d){switch(d.label){case 0:e=document.querySelectorAll("*[dynamic-src]"),t=0,d.label=1;case 1:if(!(t<e.length))return[3,8];if(i=e[t].getBoundingClientRect(),!(e[t].hasAttribute("dynamic-src")&&i.top<2*window.innerHeight))return[3,7];a=(e[t].getAttribute("dynamic-src")||"").split(" "),o=0,r=a,d.label=2;case 2:return o<r.length?(l=r[o],(c=document.body.contains(e[t]))?[4,function(e){return n(this,void 0,void 0,(function(){return s(this,(function(t){return[2,new Promise((function(t){var i=new Image;i.addEventListener("load",(function(){t(!0)})),i.addEventListener("error",(function(){t(!1)})),i.src=e,i.complete&&t(!0)}))]}))}))}(l)]:[3,4]):[3,6];case 3:c=d.sent(),d.label=4;case 4:if(c)return e[t].setAttribute("src",l),[3,6];d.label=5;case 5:return o++,[3,2];case 6:e[t].removeAttribute("dynamic-src"),d.label=7;case 7:return t++,[3,1];case 8:return[2]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.lazyLoadImages=a,window.addEventListener("scroll",a),window.addEventListener("load",a),window.addEventListener("resize",a)},"./src/platform.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/utilities/string.ts"),s=[{name:"Linux",synonym:["linux"],version:[{name:"Openmoko Linux",synonym:["openmoko","openmoko linux"]}]},{name:"Android",synonym:["android"],version:[]},{name:"Firefox OS",synonym:["firefox os","firefoxos"],version:[]},{name:"Maemo",synonym:["maemo"],version:[]},{name:"MeeGo",synonym:["meego"],version:[]},{name:"Tizen",synonym:["tizen"],version:[]},{name:"WebOS",synonym:["webos"],version:[]},{name:"iOS",synonym:["ios"],version:[{name:"iPhone",synonym:["iphone"]},{name:"iPad",synonym:["ipad"]},{name:"iPod touch",synonym:["ipod touch","ipod"]}]},{name:"MacOS",synonym:["macos","mac","mac os","os x","osx","mac os x","macosx"],version:[]},{name:"Unix",synonym:["unix"],version:[]},{name:"Bada OS",synonym:["bada"],version:[]},{name:"BSD",synonym:["bsd"],version:[]},{name:"FreeBSD",synonym:["freebsd"],version:[]},{name:"Amiga OS",synonym:["amigaos","amiga os","amiga"],version:[{name:"MorphOS",synonym:["morphos"]},{name:"ArOS",synonym:["aros"]}]},{name:"Windows CE",synonym:["windows ce","wince"],version:[]},{name:"Windows Mobile",synonym:["windows mobile","wm"],version:[{name:"Windows Mobile 5",synonym:["windows mobile 5","wm5"]},{name:"Windows Mobile 6",synonym:["windows mobile 6","wm6"]},{name:"Windows Mobile 2000",synonym:["windows mobile 2000","wm2000"]},{name:"Windows Mobile 2003",synonym:["windows mobile 2003","wm2003"]},{name:"Pocket PC",synonym:["pocket pc","pocketpc"]}]},{name:"Windows Phone",synonym:["windows phone","windows phone 10"],version:[]},{name:"Windows",synonym:["windows","win"],version:[{name:"Windows XP",synonym:["windows xp","winxp"]},{name:"Windows 2000",synonym:["windows 2000","win2k"]},{name:"Windows Vista",synonym:["windows vista","vista"]},{name:"Windows 7",synonym:["windows 7","win7"]},{name:"Windows 8",synonym:["windows 8","win8"]},{name:"Windows 8.1",synonym:["windows 8.1","win8.1"]},{name:"Windows 10",synonym:["windows 10","win10"]}]},{name:"BlackBerry OS",synonym:["blackberry os","blackberry","bbos"],version:[]},{name:"Brew",synonym:["brew"],version:[]},{name:"Palm OS",synonym:["palm","palm os","palmos"],version:[]},{name:"Symbian",synonym:["symbian","s60"],version:[]},{name:"Cross-platform",synonym:["cross-platform","cross platform"],version:[]},{name:"Java ME",synonym:["j2me","java me"],version:[]},{name:"Java SE",synonym:["j2se","java se"],version:[]},{name:"Java",synonym:["java"],version:[]},{name:"Node.js",synonym:["node","node.js"],version:[]},{name:"Qt",synonym:["qt"],version:[]},{name:"React Native",synonym:["react native"],version:[]},{name:"Unity",synonym:["unity"],version:[]},{name:"Web",synonym:["web","web-based","webapp","web-app","browser"],version:[]},{name:"Software for miscellaneous platforms",synonym:["other"],version:[]}];t.platformValueToDisplay=function(e){for(var t=0,i=s;t<i.length;t++){for(var a=i[t],o=0,r=a.version;o<r.length;o++)if(r[o].synonym.filter((function(t){return n.equalsIgnoreCase(t,e)})).length>0)return a.name;if(a.synonym.filter((function(t){return n.equalsIgnoreCase(t,e)})).length>0)return a.name}return e}},"./src/render.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/utilities/html.ts"),s=i("./src/utilities/string.ts");t.render=function(e){var t="https://wiki.openstreetmap.org/w/images/thumb/c/ca/Map-14.svg/140px-Map-14.svg.png",i=n.createElement("div",'<div class="header">\n        <div class="name">'+(e.website?'<a href="'+e.website+'" target="_blank">'+e.name+"</a>":e.name)+"</div>\n        "+(e.website?'<a href="'+e.website+'" target="_blank">'+(e.images.length>0?'<img class="img" src="'+t+'" dynamic-src="'+e.images.join(" ")+" "+t+'"/>':'<img class="img" src="'+t+'"/>')+"</a>":e.images.length>0?'<img class="img" src="'+t+'" dynamic-src="'+e.images.join(" ")+" "+t+'"/>':'<img class="img" src="'+t+'"/>')+'\n      </div>\n      <div class="description">'+e.description+" "+(e.wiki?'<a href="'+e.wiki+'" target="_blank">Wiki</a>':"")+"</div>\n      "+(e.website?'<a class="link" href="'+e.website+'" target="_blank" title="Website"><i class="far fa-map"></i></a>':"")+"\n\n      "+(e.install.asin?'<a class="link" href="https://www.amazon.com/dp/'+e.install.asin+'" target="_blank" title="Amazon Appstore"><i class="fab fa-amazon"></i></a>':"")+"\n      "+(e.install.bbWorldID?'<a class="link" href="https://appworld.blackberry.com/webstore/content/'+e.install.bbWorldID+'/" target="_blank" title="BlackBerry World"><i class="fab fa-blackberry"></i></a>':"")+"\n      "+(e.install.fDroidID?'<a class="link" href="https://f-droid.org/repository/browse/?fdid='+e.install.fDroidID+'" target="_blank" title="F-Droid"><i class="fab fa-android"></i></a>':"")+"\n      "+(e.install.googlePlayID?'<a class="link" href="https://play.google.com/store/apps/details?id='+e.install.googlePlayID+'" target="_blank" title="Google Play"><i class="fab fa-google-play"></i></a>':"")+"\n      "+(e.install.appleStoreID?'<a class="link" href="https://itunes.apple.com/app/'+(e.install.appleStoreID.toUpperCase().startsWith("ID")?e.install.appleStoreID:"id"+e.install.appleStoreID)+'" target="_blank" title="iTunes App Store"><i class="fab fa-app-store-ios"></i></a>':"")+"\n      "+(e.install.macAppStoreID?'<a class="link" href="https://itunes.apple.com/app/'+(e.install.macAppStoreID.toUpperCase().startsWith("ID")?e.install.macAppStoreID:"id"+e.install.macAppStoreID)+'" target="_blank" title="Mac App Store"><i class="fab fa-app-store"></i></a>':"")+"\n      "+(e.install.microsoftAppID?'<a class="link" href="http://www.windowsphone.com/s?appid='+e.install.microsoftAppID+'" target="_blank" title="Microsoft Store"><i class="fab fa-microsoft"></i></a>':"")+'\n      <div class="topics">'+e.topics.map((function(e){var t=s.textToColor(e),i=(299*t.r+587*t.g+114*t.b)/1e3;return'<span class="topic" style="background: rgb('+t.r+","+t.g+","+t.b+"); color:"+(i>=128?"black":"white")+';">'+e+"</span>"})).join("")+"</div>\n\n        "+(e.author||e.platform.length>0||e.languages.length>0||e.sourceCode?'\n            <a class="more-infos-button" href="#">More <i class="fas fa-angle-down"></i></a>\n            <div class="more-infos" style="display:none;">\n        <div class="more-infos-title">Informations</div>\n        '+(e.author?'<div class="more-info">\n          <span class="more-info-title">Author</span> <span class="more-info-text">'+e.author+"</span>\n        </div>":"")+"\n        "+(e.platform.length>0?'<div class="more-info">\n          <span class="more-info-title">Platforms</span> <span class="more-info-text">'+e.platform.join(", ")+"</span>\n        </div>":"")+"\n        "+(e.languagesUrl?'<a class="more-info" href="'+e.languagesUrl+'" target="_blank">\n                <span class="more-info-title">Languages</span> <span class="more-info-text">'+(e.languages.length>0?e.languages.join(", "):'<i class="fas fa-language"></i>')+"</span>\n              </a>":e.languages.length>0?'<div class="more-info">\n          <span class="more-info-title">Languages</span> <span class="more-info-text">'+e.languages.join(", ")+"</span>\n        </div>":"")+"\n        "+(e.sourceCode?'<a class="more-info" href="'+e.sourceCode+'" target="_blank">\n          <span class="more-info-title">Source code</span> <span class="more-info-text"><i class="fas fa-code"></i></span>\n        </a>':"")+"\n        </div>":"")+"\n\n        ",["app"]),a=i.querySelector(".more-infos-button"),o=i.querySelector(".more-infos");null==a||a.addEventListener("click",(function(e){null==a||a.setAttribute("style","display: none;"),null==o||o.setAttribute("style",""),e.preventDefault()})),n.getHtmlElement(".apps").appendChild(i)}},"./src/script.ts":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}l((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=i("./src/utilities/html.ts"),o=i("./node_modules/slim-select/dist/slimselect.min.js"),r=i("./src/crawler.ts"),l=i("./src/template/software.ts"),c=i("./src/template/serviceItem.ts"),d=i("./src/template/layer.ts"),u=i("./src/lazyLoadImages.ts"),p=i("./src/utilities/storage.ts"),h=i("./src/render.ts"),m=i("./src/utilities/array.ts"),f=i("./src/utilities/string.ts"),g=i("./src/template/utilities.ts"),y=i("./src/utilities/url.ts"),v=!1,b=[],w=new o({select:"#topic",placeholder:"Topic",onChange:function(){x()}}),S=new o({select:"#platform",placeholder:"Platform",onChange:function(){x()}}),k=new o({select:"#language",placeholder:"Language",onChange:function(){x()}});function x(){v||(v=!0,function(e,t,i,n){void 0===e&&(e=""),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===n&&(n=[]),a.getHtmlElement(".apps").innerHTML="";var s=b;e=e.toUpperCase();var o=t.map((function(e){return e.toUpperCase()})),r=i.map((function(e){return e.toUpperCase()})),l=n.map((function(e){return e.toUpperCase()}));e&&(s=s.filter((function(t){return-1!==t.name.toUpperCase().search(e)||-1!==t.description.toUpperCase().search(e)||t.topics.filter((function(t){return-1!==t.toUpperCase().search(e)})).length>0||t.platform.filter((function(t){return-1!==t.toUpperCase().search(e)})).length>0}))),o.length>0&&(s=s.filter((function(e){return m.includes(e.topics.map((function(e){return e.toUpperCase()})),o)}))),r.length>0&&(s=s.filter((function(e){return m.includes(e.platform.map((function(e){return e.toUpperCase()})),r)}))),l.length>0&&(s=s.filter((function(e){return m.includes(e.languages.map((function(e){return e.toUpperCase()})),l)})));for(var c=[],d=[],p=[],f=0,g=s;f<g.length;f++){var y=g[f];c.push.apply(c,y.topics.map((function(e){return e}))),d.push.apply(d,y.platform.map((function(e){return e}))),p.push.apply(p,y.languages.map((function(e){return e})))}w.setData(T(c,t)),w.set(t),S.setData(T(d,i)),S.set(i),k.setData(T(p,n)),k.set(n);for(var v=0,x=s;v<x.length;v++){y=x[v];h.render(y)}u.lazyLoadImages()}(document.getElementById("search").value,w.selected(),S.selected(),k.selected()),v=!1)}document.getElementById("search").addEventListener("input",(function(){x()}));var C=(y.findGetParameter("lang")||"en").toLowerCase();function O(e){var t,i,n,s,a=b.filter((function(t){return f.equalsIgnoreCase(t.name,e.name)}));if(0===a.length)b.push(e);else{var o=a[0];o.description=o.description||e.description,(t=o.images).push.apply(t,e.images),o.images=m.removeDuplicates(o.images),(i=o.languages).push.apply(i,e.languages),o.languages=m.removeDuplicates(o.languages),(n=o.topics).push.apply(n,e.topics),o.topics=m.removeDuplicates(o.topics),(s=o.platform).push.apply(s,e.platform),o.platform=m.removeDuplicates(o.platform),o.website=o.website||e.website,/List_of_OSM-based_services/g.test(o.wiki)&&(o.wiki=e.wiki||o.wiki),o.author=o.author||e.author,o.sourceCode=o.sourceCode||e.sourceCode,o.install.asin=o.install.asin||e.install.asin,o.install.bbWorldID=o.install.bbWorldID||e.install.bbWorldID,o.install.fDroidID=o.install.fDroidID||e.install.fDroidID,o.install.googlePlayID=o.install.googlePlayID||e.install.googlePlayID,o.install.appleStoreID=o.install.appleStoreID||e.install.appleStoreID,o.install.macAppStoreID=o.install.macAppStoreID||e.install.macAppStoreID,o.install.microsoftAppID=o.install.microsoftAppID||e.install.microsoftAppID}}function L(e){return void 0===e&&(e="en"),n(this,void 0,void 0,(function(){var t,i,n,a,o,u,p,h,y,v;return s(this,(function(s){switch(s.label){case 0:return[4,r.requestTemplates("Service item",e)];case 1:for(t=s.sent(),i=0,n=t.filter((function(e){return!g.containsOfflineLink(e.name)}));i<n.length;i++)v=n[i],O(c.transform(v));return m.shuffle(b),x(),[4,r.requestTemplates("Layer",e)];case 2:for(a=s.sent(),o=0,u=a.filter((function(e){return!(g.containsOfflineLink(e.name)||g.containsOfflineLink(e.slippy_web)||f.equalsIgnoreCase(e.discontinued,"YES"))}));o<u.length;o++)v=u[o],O(d.transform(v));return x(),[4,r.requestTemplates("Software",e)];case 3:for(p=s.sent(),h=0,y=p.filter((function(e){return!(g.containsOfflineLink(e.name)||g.containsOfflineLink(e.web)||f.equalsIgnoreCase(e.status,"BROKEN"))}));h<y.length;h++)v=y[h],O(l.transform(v));return x(),[2]}}))}))}function T(e,t){e.sort();for(var i=[],n=function(e){var t=i.filter((function(t){return f.equalsIgnoreCase(t.name,e)}));t.length>0?t[0].count++:i.push({name:e,count:1})},s=0,a=e;s<a.length;s++)n(a[s]);return i.map((function(e){return t.filter((function(t){return f.equalsIgnoreCase(e.name,t)})).length>0?{value:e.name,text:e.name}:{value:e.name,text:e.name+" ("+e.count+")"}}))}!function(){n(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=p.get(C+"-apps-date"),864e5,e&&new Date(e).valueOf()>Date.now()-864e5&&(b=p.get(C+"-apps")||[],x()),0!==b.length?[3,4]:"en"===C?[3,2]:[4,L(C)];case 1:t.sent(),t.label=2;case 2:return[4,L()];case 3:t.sent(),m.shuffle(b),p.set(C+"-apps",b),p.set(C+"-apps-date",new Date),t.label=4;case 4:return[2]}}))}))}()},"./src/template/layer.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/utilities/image.ts"),s=i("./src/utilities/url.ts"),a=i("./src/language.ts"),o=i("./src/utilities/array.ts"),r=i("./src/utilities/string.ts"),l=i("./src/template/utilities.ts");t.transform=function(e){var t={name:e.name||"",description:r.appendFullStop(l.processWikiText(e.description||"")),images:n.toWikimediaUrl(e.screenshot,250),website:s.toUrl(l.extractWebsite(e.slippy_web)),wiki:s.toWikiUrl(e.sourceWiki)||"",sourceCode:s.toUrl(l.extractRepo(e.repo)),author:(e.author||"").split(l.splitByCommaButNotInsideBraceRegex).map(r.trim).filter((function(e){return e})).map((function(e){return l.processWikiText(e)})).join(", "),languages:(e.tiles_languages||"").split(l.splitByCommaButNotInsideBraceRegex).map(r.trim).filter((function(e){return e})).map((function(e){return a.languageValueToDisplay(e)})),languagesUrl:s.toUrl(e.tiles_languagesurl),topics:[],platform:["Web"],install:{}};return t.languages=o.removeDuplicates(t.languages).sort(),t}},"./src/template/serviceItem.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/utilities/image.ts"),s=i("./src/utilities/url.ts"),a=i("./src/language.ts"),o=i("./src/utilities/array.ts"),r=i("./src/utilities/string.ts"),l=i("./src/template/utilities.ts");t.transform=function(e){var t={name:e.name||"",description:r.appendFullStop(l.processWikiText(e.descr||"")),images:n.toWikimediaUrl(e.image,250),wiki:s.toWikiUrl(e.sourceWiki)||"",sourceCode:s.toUrl(l.extractWebsite(e.material)),languages:(e.lang||"").split(l.splitByCommaButNotInsideBraceRegex).map(l.extractLanguageCodeFromTemplate).map(r.trim).filter((function(e){return e})).map((function(e){return a.languageValueToDisplay(e)})),languagesUrl:s.toUrl(l.extractWebsite(e.lang)),topics:(e.genre||"").split(l.splitByCommaButNotInsideBraceRegex).map(r.trim).filter((function(e){return e})).map(r.firstLetterToUpperCase).sort(),platform:[],install:{}};e.region&&t.topics.push("Coverage: "+e.region.split(l.splitByCommaButNotInsideBraceRegex).map(r.trim).filter((function(e){return e})).map(r.firstLetterToUpperCase).join(", ")),t.languages=o.removeDuplicates(t.languages).sort(),t.topics=o.removeDuplicates(t.topics).sort();var i=l.extractNameWebsiteWiki(e.name);return t.name=i.name||t.name,t.website=i.website,t.wiki=i.wiki||t.wiki,t}},"./src/template/software.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/utilities/image.ts"),s=i("./src/utilities/url.ts"),a=i("./src/platform.ts"),o=i("./src/language.ts"),r=i("./src/utilities/array.ts"),l=i("./src/utilities/string.ts"),c=i("./src/template/utilities.ts");function d(e){return void 0===e&&(e=""),(e=e.toUpperCase())&&"YES"!==e&&"NO"!==e&&"?"!==e}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,n=e;i<n.length;i++){var s=n[i];if("YES"===(null==s?void 0:s.toUpperCase()))return!0}return!1}t.transform=function(e){var t,i,p={name:e.name||"",description:l.appendFullStop(c.processWikiText(e.description||"")),images:n.toWikimediaUrl(e.screenshot,250),website:s.toUrl(e.web),wiki:s.toWikiUrl(e.wiki||e.sourceWiki)||"",author:(e.author||"").split(c.splitByCommaButNotInsideBraceRegex).map(l.trim).filter((function(e){return e})).map((function(e){return c.processWikiText(e)})).join(", "),sourceCode:s.toUrl(c.extractRepo(e.repo||e.git||e.svn)),languages:(e.languages||"").split(c.splitByCommaButNotInsideBraceRegex).map(l.trim).filter((function(e){return e})).map((function(e){return o.languageValueToDisplay(e)})),languagesUrl:s.toUrl(e.languagesurl),topics:(e.genre||"").split(c.splitByCommaButNotInsideBraceRegex).map(l.trim).filter((function(e){return e})).map(l.firstLetterToUpperCase),platform:(e.platform||"").replace(/\[\[/g,"").replace(/\]\]/g,"").split(c.splitByCommaButNotInsideBraceRegex).map(l.trim).filter((function(e){return e})).map((function(e){return a.platformValueToDisplay(e)})),install:{asin:e.asin,bbWorldID:e.bbWorldID,fDroidID:e.fDroidID,googlePlayID:e.googlePlayID,appleStoreID:e.appleStoreID,macAppStoreID:e.macAppStoreID,microsoftAppID:e.microsoftAppID}};p.platform=r.removeDuplicates(p.platform).sort(),p.languages=r.removeDuplicates(p.languages).sort(),d(e.profiles)&&(t=p.topics).push.apply(t,(e.profiles||"").split(c.splitByCommaButNotInsideBraceRegex).map(l.trim).filter((function(e){return e})).map(l.firstLetterToUpperCase)),d(e.accessibility)&&((i=p.topics).push.apply(i,(e.accessibility||"").split(c.splitByCommaButNotInsideBraceRegex).map(l.trim).filter((function(e){return e})).map(l.firstLetterToUpperCase)),p.topics.push("Accessibility")),u(e.accessibility)&&p.topics.push("Accessibility"),u(e.tracking)&&p.topics.push("Tracking"),u(e.monitoring)&&p.topics.push("Monitoring"),u(e.navigating,e.navToPoint)&&p.topics.push("Navi"),u(e.routing,e.calculateRoute,e.calculateRouteOffline)&&p.topics.push("Router"),u(e["3D"])&&p.topics.push("3D"),u(e.findLocation)&&p.topics.push("Search"),u(e.findNearbyPOI)&&p.topics.push("POI"),u(e.addPOI,e.addWay,e.editPOI,e.editTags,e.editGeom,e.editRelations)&&p.topics.push("Editor"),p.topics=r.removeDuplicates(p.topics).sort();var h=c.extractNameWebsiteWiki(e.name);p.name=h.name||p.name,p.website=p.website||h.website,p.wiki=p.wiki||h.wiki||"";var m=c.extractNameWebsiteWiki(e.web);p.name=p.name||m.name,p.website=m.website||p.website,p.wiki=p.wiki||m.wiki||"";var f=c.extractNameWebsiteWiki(e.wiki);return p.name=p.name||f.name,p.website=p.website||f.website,p.wiki=f.wiki||p.wiki,p}},"./src/template/utilities.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/utilities/url.ts");t.splitByCommaButNotInsideBraceRegex=/[,;]+(?![^\(]*\))/,t.containsOfflineLink=function(e){return void 0===e&&(e=""),/<((s(trike)?)|(del))>/gi.test(e)},t.extractLanguageCodeFromTemplate=function(e){var t=/{{#language:([\w-]+)/.exec(e);return t?t[1]:e},t.extractNameWebsiteWiki=function(e){void 0===e&&(e="");var t,i,s={name:e};return(i=(t=/(\[(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))\])/gi).exec(e))&&(s.website=i[2],(e=e.replace(t,"").trim())&&(s.name=e)),(i=(t=/(\[(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)) ([^\]]*)\])/gi).exec(e))&&(s.name=i[5],s.website=i[2],e=e.replace(t,"")),(i=(t=/\[\[([^\]]*(?![^\|]))(\|([^\]]*))?\]\]/g).exec(e))&&(i[3]?s.name=i[3]:s.name=i[1],s.wiki=n.toWikiUrl(i[1]),e=e.replace(t,"")),(i=(t=/\[\[([^\]]*)\]\]/g).exec(e))&&(s.name=i[1],s.wiki=n.toWikiUrl(i[1]),e=e.replace(t,"")),s},t.extractWebsite=function(e){var t;return void 0===e&&(e=""),(t=/(\[(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))\])/gi.exec(e))||(t=/(\[(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)) ([^\]]*)\])/gi.exec(e))?t[2]:(t=/\[\[([^\]]*(?![^\|]))(\|([^\]]*))?\]\]/g.exec(e))?n.toWikiUrl(t[1]):(t=/{{URL\|(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))}}/gi.exec(e))||(t=/(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))/gi.exec(e))?t[1]:void 0},t.extractRepo=function(e){return void 0===e&&(e=""),e.replace(/{{GitHub link\|(((?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)}}/g,"https://github.com/$1")},t.processWikiText=function(e){void 0===e&&(e="");var t=/\[\[:wikipedia:([^\]]*(?![^\|]))(\|([^\]]*))?\]\]/g;e=e.replace(t,'<a target="_blank" href="https://en.wikipedia.org/wiki/$1">$3</a>'),t=/\[\[:wikipedia:([^\]]*)\]\]/g,e=e.replace(t,'<a target="_blank" href="https://en.wikipedia.org/wiki/$1">$1</a>');for(var i=(t=/\[\[([^\]]*(?![^\|]))(\|([^\]]*))?\]\]/).exec(e);i;)e=e.replace(t,'<a target="_blank" href="'+n.toWikiUrl(i[1])+'">'+i[3]+"</a>"),i=t.exec(e);for(i=(t=/\[\[([^\]]*)\]\]/).exec(e);i;)e=e.replace(t,'<a target="_blank" href="'+n.toWikiUrl(i[1])+'">'+i[1]+"</a>"),i=t.exec(e);return t=/(\[(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))\])/gi,e=e.replace(t,'<a target="_blank" href="$2">$2</a>'),t=/(\[(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)) ([^\]]*)\])/gi,e=e.replace(t,'<a target="_blank" href="$2">$5</a>'),t=/'''([^(''')]*)'''/g,e.replace(t,"<strong>$1</strong>")}},"./src/utilities/array.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.includes=function(e,t){return t.every((function(t){return e.includes(t)}))},t.removeDuplicates=function(e){return e.filter((function(t,i){return e.indexOf(t)===i}))},t.shuffle=function(e){for(var t,i=e.length-1;i>0;i--){var n=Math.floor(Math.random()*(i+1));t=[e[n],e[i]],e[i]=t[0],e[n]=t[1]}}},"./src/utilities/html.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHtmlElement=function(e,t){void 0===t&&(t=document);var i=t.querySelector(e);if(!i)throw"Element "+e+" not found.";return i},t.getHtmlElements=function(e,t){void 0===t&&(t=document);var i=[];return t.querySelectorAll(e).forEach((function(e){i.push(e)})),i},t.createElement=function(e,t,i){var n;void 0===t&&(t=""),void 0===i&&(i=[]);var s=document.createElement(e);return s.innerHTML=t,(n=s.classList).add.apply(n,i),s}},"./src/utilities/image.ts":function(e,t,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var a=arguments[t],o=0,r=a.length;o<r;o++,s++)n[s]=a[o];return n};Object.defineProperty(t,"__esModule",{value:!0});var s=i("./node_modules/md5/md5.js"),a=i("./src/utilities/url.ts"),o=i("./src/utilities/string.ts");function r(e,t){return c("https://wiki.openstreetmap.org/w/images",e,t)}function l(e,t){return c("https://upload.wikimedia.org/wikipedia/commons",e,t)}function c(e,t,i){t=decodeURI(t).replace(/ /g,"_");var n=s(t);return[e+"/thumb/"+n.substring(0,1)+"/"+n.substring(0,2)+"/"+t+"/"+i+"px-"+t,e+"/"+n.substring(0,1)+"/"+n.substring(0,2)+"/"+t]}t.toWikimediaUrl=function(e,t){if(!e)return[];if(a.httpRegex.test(e))return[e];if(o.startsWithIgnoreCase(e,"File:")){var i=e.substring(5,e.length);return n(r(i,t),l(i,t))}return o.startsWithIgnoreCase(e,"https://wiki.openstreetmap.org/wiki/File:")?r(e.substring(41,e.length),t):o.startsWithIgnoreCase(e,"http://wiki.openstreetmap.org/wiki/File:")?r(e.substring(40,e.length),t):o.startsWithIgnoreCase(e,"https://commons.wikimedia.org/wiki/File:")?l(e.substring(40,e.length),t):o.startsWithIgnoreCase(e,"http://commons.wikimedia.org/wiki/File:")?l(e.substring(39,e.length),t):n(r(e,t),l(e,t))}},"./src/utilities/jsonRequest.ts":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}l((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=i("./src/utilities/url.ts");t.getJson=function(e,t){return n(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,fetch(e+"?"+a.utilQsString(t),{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,i.sent().json()];case 2:return[2,i.sent()]}}))}))}},"./src/utilities/storage.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e,t){localStorage.setItem(e,JSON.stringify(t))},t.get=function(e){try{var t=localStorage.getItem(e);if(!t)return;return JSON.parse(t)}catch(e){return}}},"./src/utilities/string.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equalsIgnoreCase=function(e,t){return(e||"").toUpperCase()===(t||"").toUpperCase()},t.startsWithIgnoreCase=function(e,t,i){return e.toUpperCase().startsWith(t.toUpperCase(),i)},t.findClosingBracketIndex=function(e,t){if("{"!==e[t])throw new Error("The position must contain an opening bracket");for(var i=1,n=t+1;n<e.length;n++)if("{"===e[n]?i++:"}"===e[n]&&i--,0===i)return n;return-1},t.firstLetterToUpperCase=function(e){return""+e[0].toUpperCase()+e.slice(1)},t.appendFullStop=function(e){return e&&"."!==e[e.length-1]?e+".":e},t.trim=function(e){return e.replace(/^[\.\s]+|[\.\s]+$/gm,"")},t.textToColor=function(e){for(var t=0,i=0,n=0,s=0;s<e.length;s++)s%3==0?t=(t+e.charCodeAt(s))%256:s%3==1?i=(i+e.charCodeAt(s))%256:n=(n+e.charCodeAt(s))%256;return{r:t,g:i,b:n}}},"./src/utilities/url.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpRegex=/^https?:\/\//i,t.toUrl=function(e){if(e)return t.httpRegex.test(e)?e:"http://"+e},t.toWikiUrl=function(e){if(e)return t.httpRegex.test(e)?e:"https://wiki.openstreetmap.org/wiki/"+e},t.utilQsString=function(e,t){return Object.keys(e).sort().map((function(i){return encodeURIComponent(i)+"="+(t?(n=e[i],encodeURIComponent(n).replace(/(%2F|%3A|%2C|%7B|%7D)/g,decodeURIComponent)):encodeURIComponent(e[i]));var n})).join("&")},t.findGetParameter=function(e){var t,i=[];return location.search.substr(1).split("&").forEach((function(n){(i=n.split("="))[0]===e&&(t=decodeURIComponent(i[1]))})),t}}});